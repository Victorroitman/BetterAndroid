<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-rc.0">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/BetterAndroid/images/logo.png"><title>ui-component | Better Android</title><meta name="description" content="Create more useful tool extensions for Android">
    <link rel="preload" href="/BetterAndroid/assets/style-Rgr8LWAc.css" as="style"><link rel="stylesheet" href="/BetterAndroid/assets/style-Rgr8LWAc.css">
    <link rel="modulepreload" href="/BetterAndroid/assets/app-ltPCiGOj.js"><link rel="modulepreload" href="/BetterAndroid/assets/ui-component.html-j2OUQLY0.js"><link rel="modulepreload" href="/BetterAndroid/assets/ui-component.html-B3-lUFyZ.js">
    <link rel="prefetch" href="/BetterAndroid/assets/index.html-jF4F_Jea.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/index.html-PARuE-X-.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/index.html-oDIKH1cB.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/about.html-uY9riSdh.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/changelog.html-c_VqLMoX.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/contacts.html-86YUIjVU.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/future.html-yqb27IxN.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/basic.html-EJIReltC.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/r8-proguard.html-odMEh5xB.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/home.html-LzcfoNb7.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/quick-start.html-bCTwVO9L.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/compose-extension.html-4zRtEGDC.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/compose-multiplatform.html-82HQEYGr.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/permission-extension.html-q6WEKAxW.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/system-extension.html-dqnIT0um.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/ui-extension.html-KWr3W3vG.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/about.html-Gp1aGYya.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/changelog.html-SduVASWz.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/contacts.html-8qKP4333.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/future.html-G41ap5rf.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/basic.html-kmRarnM9.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/r8-proguard.html-GzppQxpQ.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/home.html-OhhOvxle.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/quick-start.html-ZpYZT1os.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/compose-extension.html-eliB8kaO.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/compose-multiplatform.html-pvKDgydw.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/permission-extension.html-lAfntmHN.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/system-extension.html-6_1EwbPb.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/ui-component.html-KT5EYDha.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/ui-extension.html-7VpIMJEl.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/404.html-6Yl8cQE3.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/index.html-UiC_UFGO.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/index.html-0ffAK9X-.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/index.html-CFZqCMTb.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/about.html-MuLV_6gW.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/changelog.html-nMtSQwKc.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/contacts.html-ElDnajtZ.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/future.html-wlykN6zD.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/basic.html-EkaBYisx.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/r8-proguard.html-b2xM80n9.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/home.html-sk_2CyAB.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/quick-start.html--a87sLmT.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/compose-extension.html-3FGsQ7Ic.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/compose-multiplatform.html-XF3zx08Z.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/permission-extension.html-XmKw6mIr.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/system-extension.html-UMEOlL3V.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/ui-extension.html-QKryeOuC.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/about.html-fQ4eYc-e.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/changelog.html-3aa8mALS.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/contacts.html-w-ngeHFR.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/future.html-G4YcDOYQ.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/basic.html-1uaBuxKj.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/r8-proguard.html-csYmd3W2.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/home.html-A6Hj7Yly.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/quick-start.html-NuOHchRr.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/compose-extension.html-z4OfUQXZ.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/compose-multiplatform.html-8Y8jlNdF.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/permission-extension.html-P6ujjbbj.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/system-extension.html-PHuNXl1a.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/ui-component.html-56bnQGvE.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/ui-extension.html-3MrriXOR.js" as="script"><link rel="prefetch" href="/BetterAndroid/assets/404.html-ssOQbuEn.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/BetterAndroid/en/" class=""><img class="logo" src="/BetterAndroid/images/logo.png" alt="Better Android"><span class="site-name can-hide">Better Android</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Navigation"><span class="title">Navigation</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Navigation"><span class="title">Navigation</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Get Started</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/en/guide/home.html" class="" aria-label="Introduce"><!--[--><!--]--> Introduce <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/en/guide/quick-start.html" class="" aria-label="Quick Start"><!--[--><!--]--> Quick Start <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Libraries</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a aria-current="page" href="/BetterAndroid/en/library/ui-component.html" class="router-link-active router-link-exact-active router-link-active" aria-label="ui-component"><!--[--><!--]--> ui-component <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/en/library/ui-extension.html" class="" aria-label="ui-extension"><!--[--><!--]--> ui-extension <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/en/library/system-extension.html" class="" aria-label="system-extension"><!--[--><!--]--> system-extension <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/en/library/permission-extension.html" class="" aria-label="permission-extension"><!--[--><!--]--> permission-extension <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/en/library/compose-extension.html" class="" aria-label="compose-extension"><!--[--><!--]--> compose-extension <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/en/library/compose-multiplatform.html" class="" aria-label="compose-multiplatform"><!--[--><!--]--> compose-multiplatform <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Configs</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/en/config/basic.html" class="" aria-label="Basic Configuration"><!--[--><!--]--> Basic Configuration <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/en/config/r8-proguard.html" class="" aria-label="R8 &amp; Proguard Obfuscate"><!--[--><!--]--> R8 &amp; Proguard Obfuscate <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>About</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/en/about/changelog.html" class="" aria-label="Changelog"><!--[--><!--]--> Changelog <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/en/about/future.html" class="" aria-label="Looking for Future"><!--[--><!--]--> Looking for Future <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/en/about/contacts.html" class="" aria-label="Contact Us"><!--[--><!--]--> Contact Us <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/en/about/about.html" class="" aria-label="About This Document"><!--[--><!--]--> About This Document <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a href="/BetterAndroid/en/about/contacts" class="" aria-label="Contact Us"><!--[--><!--]--> Contact Us <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">English (US)</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">English (US)</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/BetterAndroid/en/library/ui-component.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/BetterAndroid/zh-cn/library/ui-component.html" class="" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/BetterAndroid/BetterAndroid" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Navigation"><span class="title">Navigation</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Navigation"><span class="title">Navigation</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Get Started</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/en/guide/home.html" class="" aria-label="Introduce"><!--[--><!--]--> Introduce <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/en/guide/quick-start.html" class="" aria-label="Quick Start"><!--[--><!--]--> Quick Start <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Libraries</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a aria-current="page" href="/BetterAndroid/en/library/ui-component.html" class="router-link-active router-link-exact-active router-link-active" aria-label="ui-component"><!--[--><!--]--> ui-component <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/en/library/ui-extension.html" class="" aria-label="ui-extension"><!--[--><!--]--> ui-extension <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/en/library/system-extension.html" class="" aria-label="system-extension"><!--[--><!--]--> system-extension <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/en/library/permission-extension.html" class="" aria-label="permission-extension"><!--[--><!--]--> permission-extension <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/en/library/compose-extension.html" class="" aria-label="compose-extension"><!--[--><!--]--> compose-extension <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/en/library/compose-multiplatform.html" class="" aria-label="compose-multiplatform"><!--[--><!--]--> compose-multiplatform <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Configs</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/en/config/basic.html" class="" aria-label="Basic Configuration"><!--[--><!--]--> Basic Configuration <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/en/config/r8-proguard.html" class="" aria-label="R8 &amp; Proguard Obfuscate"><!--[--><!--]--> R8 &amp; Proguard Obfuscate <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>About</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/en/about/changelog.html" class="" aria-label="Changelog"><!--[--><!--]--> Changelog <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/en/about/future.html" class="" aria-label="Looking for Future"><!--[--><!--]--> Looking for Future <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/en/about/contacts.html" class="" aria-label="Contact Us"><!--[--><!--]--> Contact Us <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/BetterAndroid/en/about/about.html" class="" aria-label="About This Document"><!--[--><!--]--> About This Document <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a href="/BetterAndroid/en/about/contacts" class="" aria-label="Contact Us"><!--[--><!--]--> Contact Us <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">English (US)</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">English (US)</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/BetterAndroid/en/library/ui-component.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/BetterAndroid/zh-cn/library/ui-component.html" class="" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/BetterAndroid/BetterAndroid" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Get Started <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/BetterAndroid/en/guide/home.html" class="sidebar-item" aria-label="Introduce"><!--[--><!--]--> Introduce <!--[--><!--]--></a><!----></li><li><a href="/BetterAndroid/en/guide/quick-start.html" class="sidebar-item" aria-label="Quick Start"><!--[--><!--]--> Quick Start <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">Libraries <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/BetterAndroid/en/library/ui-component.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="ui-component"><!--[--><!--]--> ui-component <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/BetterAndroid/en/library/ui-component.html#configure-dependency" class="router-link-active router-link-exact-active sidebar-item" aria-label="Configure Dependency"><!--[--><!--]--> Configure Dependency <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/BetterAndroid/en/library/ui-component.html#sweetdependency-recommended" class="router-link-active router-link-exact-active sidebar-item" aria-label="SweetDependency (Recommended)"><!--[--><!--]--> SweetDependency (Recommended) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/BetterAndroid/en/library/ui-component.html#traditional-method" class="router-link-active router-link-exact-active sidebar-item" aria-label="Traditional Method"><!--[--><!--]--> Traditional Method <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/BetterAndroid/en/library/ui-component.html#function-introduction" class="router-link-active router-link-exact-active sidebar-item" aria-label="Function Introduction"><!--[--><!--]--> Function Introduction <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/BetterAndroid/en/library/ui-component.html#activity" class="router-link-active router-link-exact-active sidebar-item" aria-label="Activity"><!--[--><!--]--> Activity <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/BetterAndroid/en/library/ui-component.html#fragment" class="router-link-active router-link-exact-active sidebar-item" aria-label="Fragment"><!--[--><!--]--> Fragment <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/BetterAndroid/en/library/ui-component.html#adapter" class="router-link-active router-link-exact-active sidebar-item" aria-label="Adapter"><!--[--><!--]--> Adapter <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/BetterAndroid/en/library/ui-component.html#system-event" class="router-link-active router-link-exact-active sidebar-item" aria-label="System Event"><!--[--><!--]--> System Event <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/BetterAndroid/en/library/ui-component.html#notification" class="router-link-active router-link-exact-active sidebar-item" aria-label="Notification"><!--[--><!--]--> Notification <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/BetterAndroid/en/library/ui-component.html#insets" class="router-link-active router-link-exact-active sidebar-item" aria-label="Insets"><!--[--><!--]--> Insets <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/BetterAndroid/en/library/ui-component.html#system-bars-status-bars-navigation-bars-etc" class="router-link-active router-link-exact-active sidebar-item" aria-label="System Bars (Status Bars, Navigation Bars, etc)"><!--[--><!--]--> System Bars (Status Bars, Navigation Bars, etc) <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/BetterAndroid/en/library/ui-extension.html" class="sidebar-item" aria-label="ui-extension"><!--[--><!--]--> ui-extension <!--[--><!--]--></a><!----></li><li><a href="/BetterAndroid/en/library/system-extension.html" class="sidebar-item" aria-label="system-extension"><!--[--><!--]--> system-extension <!--[--><!--]--></a><!----></li><li><a href="/BetterAndroid/en/library/permission-extension.html" class="sidebar-item" aria-label="permission-extension"><!--[--><!--]--> permission-extension <!--[--><!--]--></a><!----></li><li><a href="/BetterAndroid/en/library/compose-extension.html" class="sidebar-item" aria-label="compose-extension"><!--[--><!--]--> compose-extension <!--[--><!--]--></a><!----></li><li><a href="/BetterAndroid/en/library/compose-multiplatform.html" class="sidebar-item" aria-label="compose-multiplatform"><!--[--><!--]--> compose-multiplatform <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Configs <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/BetterAndroid/en/config/basic.html" class="sidebar-item" aria-label="Basic Configuration"><!--[--><!--]--> Basic Configuration <!--[--><!--]--></a><!----></li><li><a href="/BetterAndroid/en/config/r8-proguard.html" class="sidebar-item" aria-label="R8 &amp; Proguard Obfuscate"><!--[--><!--]--> R8 &amp; Proguard Obfuscate <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">About <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/BetterAndroid/en/about/changelog.html" class="sidebar-item" aria-label="Changelog"><!--[--><!--]--> Changelog <!--[--><!--]--></a><!----></li><li><a href="/BetterAndroid/en/about/future.html" class="sidebar-item" aria-label="Looking for Future"><!--[--><!--]--> Looking for Future <!--[--><!--]--></a><!----></li><li><a href="/BetterAndroid/en/about/contacts.html" class="sidebar-item" aria-label="Contact Us"><!--[--><!--]--> Contact Us <!--[--><!--]--></a><!----></li><li><a href="/BetterAndroid/en/about/about.html" class="sidebar-item" aria-label="About This Document"><!--[--><!--]--> About This Document <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="ui-component" tabindex="-1"><a class="header-anchor" href="#ui-component" aria-hidden="true">#</a> ui-component</h1><p><img src="https://img.shields.io/maven-central/v/com.highcapable.betterandroid/ui-component?logo=apachemaven&amp;logoColor=orange" alt="Maven Central"><span style="margin-left:5px;"></span><img src="https://img.shields.io/badge/Min SDK-21-orange?logo=android" alt="Android Min SDK"></p><p>This is a dependency for UI (user interface) related components.</p><h2 id="configure-dependency" tabindex="-1"><a class="header-anchor" href="#configure-dependency" aria-hidden="true">#</a> Configure Dependency</h2><p>You can add this module to your project using the following method.</p><h3 id="sweetdependency-recommended" tabindex="-1"><a class="header-anchor" href="#sweetdependency-recommended" aria-hidden="true">#</a> SweetDependency (Recommended)</h3><p>Add dependency in your project&#39;s <code>SweetDependency</code> configuration file.</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#8DDB8C;">libraries</span><span style="color:#ADBAC7;">:</span></span>
<span class="line"><span style="color:#ADBAC7;">  </span><span style="color:#8DDB8C;">com.highcapable.betterandroid</span><span style="color:#ADBAC7;">:</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#8DDB8C;">ui-component</span><span style="color:#ADBAC7;">:</span></span>
<span class="line"><span style="color:#ADBAC7;">      </span><span style="color:#8DDB8C;">version</span><span style="color:#ADBAC7;">: </span><span style="color:#96D0FF;">+</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Configure dependency in your project <code>build.gradle.kts</code>.</p><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#DCBDFB;">implementation</span><span style="color:#ADBAC7;">(com.highcapable.betterandroid.ui.component)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="traditional-method" tabindex="-1"><a class="header-anchor" href="#traditional-method" aria-hidden="true">#</a> Traditional Method</h3><p>Configure dependency in your project <code>build.gradle.kts</code>.</p><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#DCBDFB;">implementation</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;com.highcapable.betterandroid:ui-component:&lt;version&gt;&quot;</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Please change <code>&lt;version&gt;</code> to the version displayed at the top of this document.</p><h2 id="function-introduction" tabindex="-1"><a class="header-anchor" href="#function-introduction" aria-hidden="true">#</a> Function Introduction</h2><p>You can view the KDoc <a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component" target="_blank" rel="noopener noreferrer">click here<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><h3 id="activity" tabindex="-1"><a class="header-anchor" href="#activity" aria-hidden="true">#</a> Activity</h3><div class="custom-container tip"><p class="custom-container-title">Contents of This Section</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.activity/-app-binding-activity" target="_blank" rel="noopener noreferrer">AppBindingActivity<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><code>Activity</code> with view binding (inherited from <code>AppCompatActivtiy</code>).</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.activity/-app-views-activity" target="_blank" rel="noopener noreferrer">AppViewsActivity<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>Base view component <code>Activity</code> (inherited from <code>AppCompatActivtiy</code>).</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.activity/-app-component-activity" target="_blank" rel="noopener noreferrer">AppComponentActivity<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>Basic component <code>Activity</code> (inherited from <code>ComponentActivtiy</code>).</p><p>Available for Jetpack Compose projects.</p></div><div class="custom-container tip"><p class="custom-container-title">Tips</p><p>The preset components below all implement <a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.proxy/-i-back-pressed-controller" target="_blank" rel="noopener noreferrer">IBackPressedController<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, <a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.proxy/-i-system-bars-controller" target="_blank" rel="noopener noreferrer">ISystemBarsController<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> interface.</p><p>You can find detailed usage methods in <a href="#system-event">System Event</a> and <a href="#system-bars-status-bars-navigation-bars-etc">System Bars (Status Bars, Navigation Bars, etc)</a> below.</p></div><p>When using <code>ViewBinding</code>, you can use <code>AppBindingActivity</code> to quickly create an <code>Activity</code> with view binding.</p><p>In <code>AppBindingActivity</code>, you can directly use the <code>binding</code> property to obtain the view binding object without manually calling the <code>setContentView</code> method.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">MainActivity</span><span style="color:#ADBAC7;"> : </span><span style="color:#F69D50;">AppBindingActivity</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">ActivityMainBinding</span><span style="color:#ADBAC7;">&gt;() {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">override</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">fun</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">onCreate</span><span style="color:#ADBAC7;">(savedInstanceState: </span><span style="color:#F69D50;">Bundle</span><span style="color:#ADBAC7;">?) {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">super</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">onCreate</span><span style="color:#ADBAC7;">(savedInstanceState)</span></span>
<span class="line"><span style="color:#ADBAC7;">        binding.mainText.text </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;Hello World!&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can also use <code>AppViewsActivity</code> to create a basic <code>Activity</code> and use the <code>findViewById</code> method to get the <code>View</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">MainActivity</span><span style="color:#ADBAC7;"> : </span><span style="color:#F69D50;">AppViewsActivity</span><span style="color:#ADBAC7;">() {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">override</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">fun</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">onCreate</span><span style="color:#ADBAC7;">(savedInstanceState: </span><span style="color:#F69D50;">Bundle</span><span style="color:#ADBAC7;">?) {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">super</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">onCreate</span><span style="color:#ADBAC7;">(savedInstanceState)</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#DCBDFB;">setContentView</span><span style="color:#ADBAC7;">(R.layout.activity_main)</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#DCBDFB;">findViewById</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">TextView</span><span style="color:#ADBAC7;">&gt;(R.id.main_text).text </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;Hello World!&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If your project is a Jetpack Compose project, you can use <code>AppComponentActivity</code> to create a basic <code>Activity</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">MainActivity</span><span style="color:#ADBAC7;"> : </span><span style="color:#F69D50;">AppComponentActivity</span><span style="color:#ADBAC7;">() {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">override</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">fun</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">onCreate</span><span style="color:#ADBAC7;">(savedInstanceState: </span><span style="color:#F69D50;">Bundle</span><span style="color:#ADBAC7;">?) {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">super</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">onCreate</span><span style="color:#ADBAC7;">(savedInstanceState)</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#DCBDFB;">setContent</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#DCBDFB;">Text</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;Hello World!&quot;</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">        }</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">Tips</p><p>For related extensions of Jetpack Compose, you can refer to <a href="/BetterAndroid/en/library/compose-extension.html" class="">compose-extension</a>, <a href="/BetterAndroid/en/library/compose-multiplatform.html" class="">compose-multiplatform</a>.</p><p><code>BetterAndroid</code> also provides related extensions for <code>Activity</code>, you can refer to <a href="/BetterAndroid/en/library/ui-extension.html#activity-extension" class="">ui-extension → Activity Extension</a>.</p></div><h3 id="fragment" tabindex="-1"><a class="header-anchor" href="#fragment" aria-hidden="true">#</a> Fragment</h3><div class="custom-container tip"><p class="custom-container-title">Contents of This Section</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.fragment/-app-binding-fragment" target="_blank" rel="noopener noreferrer">AppBindingFragment<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><code>Fragment</code> with view binding.</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.fragment/-app-views-fragment" target="_blank" rel="noopener noreferrer">AppViewsFragment<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>Base view component <code>Fragment</code>.</p></div><div class="custom-container tip"><p class="custom-container-title">Tips</p><p>The preset components below all implement <a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.proxy/-i-back-pressed-controller" target="_blank" rel="noopener noreferrer">IBackPressedController<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, <a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.proxy/-i-system-bars-controller" target="_blank" rel="noopener noreferrer">ISystemBarsController<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> interface.</p><p>You can find detailed usage methods in <a href="#system-event">System Event</a> and <a href="#system-bars-status-bars-navigation-bars-etc">System Bars (Status Bars, Navigation Bars, etc)</a> below.</p></div><p>When using <code>ViewBinding</code>, you can use <code>AppBindingFragment</code> to quickly create a <code>Fragment</code> with view binding.</p><p>In <code>AppBindingFragment</code>, you can directly use the <code>binding</code> property to obtain the view binding object without manually overriding the <code>onCreateView</code> method.</p><p>You don’t need to consider the impact of <code>Fragment</code>’s lifecycle on <code>binding</code>, <code>BetterAndroid</code> has already handled these issues for you.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">MainFragment</span><span style="color:#ADBAC7;"> : </span><span style="color:#F69D50;">AppBindingFragment</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">FragmentMainBinding</span><span style="color:#ADBAC7;">&gt;() {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">override</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">fun</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">onViewCreated</span><span style="color:#ADBAC7;">(view: </span><span style="color:#F69D50;">View</span><span style="color:#ADBAC7;">, savedInstanceState: </span><span style="color:#F69D50;">Bundle</span><span style="color:#ADBAC7;">?) {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">super</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">onViewCreated</span><span style="color:#ADBAC7;">(view, savedInstanceState)</span></span>
<span class="line"><span style="color:#ADBAC7;">        binding.mainText.text </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;Hello World!&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can also use <code>AppViewsFragment</code> to create a basic <code>Fragment</code>.</p><p>Similarly, you don&#39;t need to overriding the <code>onCreateView</code> method, just fill in the layout resource ID that needs to be bound directly into the constructor.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">MainFragment</span><span style="color:#ADBAC7;"> : </span><span style="color:#F69D50;">AppViewsFragment</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">R</span><span style="color:#ADBAC7;">.</span><span style="color:#F69D50;">layout</span><span style="color:#ADBAC7;">.</span><span style="color:#F69D50;">fragment_main</span><span style="color:#ADBAC7;">) {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">override</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">fun</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">onViewCreated</span><span style="color:#ADBAC7;">(view: </span><span style="color:#F69D50;">View</span><span style="color:#ADBAC7;">, savedInstanceState: </span><span style="color:#F69D50;">Bundle</span><span style="color:#ADBAC7;">?) {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">super</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">onViewCreated</span><span style="color:#ADBAC7;">(view, savedInstanceState)</span></span>
<span class="line"><span style="color:#ADBAC7;">        view.</span><span style="color:#DCBDFB;">findViewById</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">TextView</span><span style="color:#ADBAC7;">&gt;(R.id.main_text).text </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;Hello World!&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">Tips</p><p><code>BetterAndroid</code> also provides related extensions for <code>Fragment</code>, you can refer to <a href="/BetterAndroid/en/library/ui-extension.html#fragment-extension" class="">ui-extension → Fragment Extension</a>.</p></div><h3 id="adapter" tabindex="-1"><a class="header-anchor" href="#adapter" aria-hidden="true">#</a> Adapter</h3><div class="custom-container tip"><p class="custom-container-title">Contents of This Section</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.adapter/-common-adapter-builder" target="_blank" rel="noopener noreferrer">CommonAdapterBuilder<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>Can be used to build a <code>BaseAdapter</code>.</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.adapter/-pager-adapter-builder" target="_blank" rel="noopener noreferrer">PagerAdapterBuilder<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>Can be used to build a <code>PagerAdapter</code>.</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.adapter/-recycler-adapter-builder" target="_blank" rel="noopener noreferrer">RecyclerAdapterBuilder<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>Can be used to build a <code>RecyclerView.Adapter</code>.</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.adapter.mediator/-pager-mediator" target="_blank" rel="noopener noreferrer">PagerMediator<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>Pager mediator for <code>ViewPager</code>.</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.adapter.recycler.cosmetic/-recycler-cosmetic" target="_blank" rel="noopener noreferrer">RecyclerCosmetic<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>Cosmetic of <code>LayoutManager</code> and <code>ItemDecoration</code> of <code>RecyclerView</code>.</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.adapter.recycler.decoration/-linear-horizontal-item-decoration" target="_blank" rel="noopener noreferrer">LinearHorizontalItemDecoration<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>Linear horizontal list decoration for <code>RecyclerView</code>.</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.adapter.recycler.decoration/-linear-vertical-item-decoration" target="_blank" rel="noopener noreferrer">LinearVerticalItemDecoration<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>Linear vertical list decoration for <code>RecyclerView</code>.</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.adapter.recycler.decoration/-grid-vertical-item-decoration" target="_blank" rel="noopener noreferrer">GridVerticalItemDecoration<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>Grid vertical list decoration for <code>RecyclerView</code>.</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.adapter.factory" target="_blank" rel="noopener noreferrer">CommonAdapter<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>Extension methods for the adapter build above.</p></div><p>From the beginning of <code>ListView</code> to the emergence of <code>RecyclerView</code>, adapters in Android have always been one of the most troublesome problems for developers.</p><p>To address this problem, <code>BetterAndroid</code> encapsulates the adapters of the following components:</p><p><code>ListView</code>, <code>AutoCompleteTextView</code>, <code>ListPopupWindow</code>, <code>RecyclerView</code>, <code>ViewPager</code>, <code>ViewPager2</code></p><p>In Kotlin you can create a data adapter more easily.</p><p>Now, all you need is a data array and a custom adapter layout to create an adapter very quickly and bind to these components.</p><p>Create a <code>BaseAdapter</code> for <code>ListView</code>, <code>AutoCompleteTextView</code>, <code>ListPopupWindow</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your entity class.</span></span>
<span class="line"><span style="color:#F47067;">data</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">CustomBean</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">var</span><span style="color:#ADBAC7;"> iconRes: </span><span style="color:#F69D50;">Int</span><span style="color:#ADBAC7;">,</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">var</span><span style="color:#ADBAC7;"> name: </span><span style="color:#F69D50;">String</span></span>
<span class="line"><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// Assume this is the dataset you need to bind to.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> listData </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">ArrayList</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">CustomBean</span><span style="color:#ADBAC7;">&gt;()</span></span>
<span class="line"><span style="color:#768390;">// Create and bind to a custom BaseAdapter.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> adapter </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> listView.</span><span style="color:#DCBDFB;">bindAdapter</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">CustomBean</span><span style="color:#ADBAC7;">&gt; {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Bind dataset.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">onBindData</span><span style="color:#ADBAC7;"> { listData }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Bind custom adapter layout adapter_custom.xml.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">onBindViews</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">AdapterCustomBinding</span><span style="color:#ADBAC7;">&gt; { binding, bean, position </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">        binding.iconView.</span><span style="color:#DCBDFB;">setImageResource</span><span style="color:#ADBAC7;">(bean.iconRes)</span></span>
<span class="line"><span style="color:#ADBAC7;">        binding.textView.text </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> bean.name</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Set the click event for each item.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">onItemViewsClick</span><span style="color:#ADBAC7;"> { itemView, bean, position </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// Your code here.</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you want to manually create an adapter and bind it to the above components, please refer to the following example.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your current Context.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> context: </span><span style="color:#F69D50;">Context</span></span>
<span class="line"><span style="color:#768390;">// Create a BaseAdapter manually.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> adapter </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">CommonAdapter</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">CustomBean</span><span style="color:#ADBAC7;">&gt;(context) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// The content is the same as above.</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">// Then bind to listView.</span></span>
<span class="line"><span style="color:#ADBAC7;">listView.adapter </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> adapter</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Create a <code>PagerAdapter</code> for <code>ViewPager</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your entity class.</span></span>
<span class="line"><span style="color:#F47067;">data</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">CustomBean</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">var</span><span style="color:#ADBAC7;"> iconRes: </span><span style="color:#F69D50;">Int</span><span style="color:#ADBAC7;">,</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">var</span><span style="color:#ADBAC7;"> name: </span><span style="color:#F69D50;">String</span></span>
<span class="line"><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// Assume this is the dataset you need to bind to.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> listData </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">ArrayList</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">CustomBean</span><span style="color:#ADBAC7;">&gt;()</span></span>
<span class="line"><span style="color:#768390;">// Create and bind to a custom PagerAdapter.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> adapter </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> viewPager.</span><span style="color:#DCBDFB;">bindAdapter</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">CustomBean</span><span style="color:#ADBAC7;">&gt; {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Bind dataset.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">onBindData</span><span style="color:#ADBAC7;"> { listData }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Bind custom adapter layout adapter_custom.xml.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">onBindViews</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">AdapterCustomBinding</span><span style="color:#ADBAC7;">&gt; { binding, bean, position </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">        binding.iconView.</span><span style="color:#DCBDFB;">setImageResource</span><span style="color:#ADBAC7;">(bean.iconRes)</span></span>
<span class="line"><span style="color:#ADBAC7;">        binding.textView.text </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> bean.name</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can also use <code>dataSetCount</code> directly without specifying a dataset, just repeatedly creating multiple pages.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Create and bind to a custom PagerAdapter.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> adapter </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> viewPager.</span><span style="color:#DCBDFB;">bindAdapter</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Manually create two identical pages.</span></span>
<span class="line"><span style="color:#ADBAC7;">    dataSetCount </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">2</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Bind custom adapter layout adapter_custom.xml.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">onBindViews</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">AdapterCustomBinding</span><span style="color:#ADBAC7;">&gt; { binding, bean, position </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// You can judge the position of the current page by position.</span></span>
<span class="line"><span style="color:#ADBAC7;">        binding.iconView.</span><span style="color:#DCBDFB;">setImageResource</span><span style="color:#ADBAC7;">(bean.iconRes)</span></span>
<span class="line"><span style="color:#ADBAC7;">        binding.textView.text </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> bean.name</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can also reuse the <code>onBindViews</code> method to create multiple different pages.</p><p>The order of the pages is determined by the order in which they were created.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Create and bind to a custom PagerAdapter.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> adapter </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> viewPager.</span><span style="color:#DCBDFB;">bindAdapter</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Bind custom adapter layout adapter_custom_1.xml.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">onBindViews</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">AdapterCustom1Binding</span><span style="color:#ADBAC7;">&gt; { binding, bean, position </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">        binding.iconView.</span><span style="color:#DCBDFB;">setImageResource</span><span style="color:#ADBAC7;">(bean.iconRes)</span></span>
<span class="line"><span style="color:#ADBAC7;">        binding.textView.text </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> bean.name</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Bind custom adapter layout adapter_custom_2.xml.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">onBindViews</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">AdapterCustom2Binding</span><span style="color:#ADBAC7;">&gt; { binding, bean, position </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">        binding.iconView.</span><span style="color:#DCBDFB;">setImageResource</span><span style="color:#ADBAC7;">(bean.iconRes)</span></span>
<span class="line"><span style="color:#ADBAC7;">        binding.textView.text </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> bean.name</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The number of pages created is the number of times the <code>onBindViews</code> method is reused.</p><div class="custom-container danger"><p class="custom-container-title">Pay Attention</p><p>If you reuse the <code>onBindViews</code> method to create multiple different pages, you can no longer specify the <code>dataSetCount</code> or bind the dataset.</p></div><p>If you need to handle <code>getPageTitle</code> and <code>getPageWidth</code> in <code>PagerAdapter</code>, you can use <code>PagerMediator</code> to complete it.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Create and bind to custom PagerAdapter.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> adapter </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> viewPager.</span><span style="color:#DCBDFB;">bindAdapter</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Bind the PagerMediator for each item.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">onBindMediators</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// Handle the title of the page.</span></span>
<span class="line"><span style="color:#ADBAC7;">        title </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">when</span><span style="color:#ADBAC7;"> (position) {</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">-&gt;</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;Home&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#F47067;">else</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">-&gt;</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;Additional&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">        }</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// Handle the width of the page (scale).</span></span>
<span class="line"><span style="color:#ADBAC7;">        width </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">when</span><span style="color:#ADBAC7;"> (position) {</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">-&gt;</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">1f</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#F47067;">else</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">-&gt;</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0.5f</span></span>
<span class="line"><span style="color:#ADBAC7;">        }</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// ...</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you want to manually create a <code>PagerAdapter</code> and bind it to <code>ViewPager</code>, please refer to the following example.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your current Context.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> context: </span><span style="color:#F69D50;">Context</span></span>
<span class="line"><span style="color:#768390;">// Create a PagerAdapter manually.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> adapter </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">PagerAdapter</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">CustomBean</span><span style="color:#ADBAC7;">&gt;(context) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// The content is the same as above.</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">// Then bind to viewPager.</span></span>
<span class="line"><span style="color:#ADBAC7;">viewPager.adapter </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> adapter</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Create a regular <code>RecyclerView.Adapter</code> for <code>RecyclerView</code>, <code>ViewPager2</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your entity class.</span></span>
<span class="line"><span style="color:#F47067;">data</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">CustomBean</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">var</span><span style="color:#ADBAC7;"> iconRes: </span><span style="color:#F69D50;">Int</span><span style="color:#ADBAC7;">,</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">var</span><span style="color:#ADBAC7;"> name: </span><span style="color:#F69D50;">String</span></span>
<span class="line"><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// Assume this is the dataset you need to bind to.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> listData </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">ArrayList</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">CustomBean</span><span style="color:#ADBAC7;">&gt;()</span></span>
<span class="line"><span style="color:#768390;">// Create and bind to custom RecyclerView.Adapter.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> adapter </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> recyclerView.</span><span style="color:#DCBDFB;">bindAdapter</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">CustomBean</span><span style="color:#ADBAC7;">&gt; {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Bind dataset</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">onBindData</span><span style="color:#ADBAC7;"> { listData }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Bind custom adapter layout adapter_custom.xml.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">onBindViews</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">AdapterCustomBinding</span><span style="color:#ADBAC7;">&gt; { binding, bean, position </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">        binding.iconView.</span><span style="color:#DCBDFB;">setImageResource</span><span style="color:#ADBAC7;">(bean.iconRes)</span></span>
<span class="line"><span style="color:#ADBAC7;">        binding.textView.text </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> bean.name</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Set the click event for each item.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">onItemViewsClick</span><span style="color:#ADBAC7;"> { itemView, viewType, bean, position </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// Your code here.</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Create a <code>RecyclerView.Adapter</code> of multiple <code>View</code> types for <code>RecyclerView</code>, <code>ViewPager2</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your entity class.</span></span>
<span class="line"><span style="color:#F47067;">data</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">CustomBean</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">var</span><span style="color:#ADBAC7;"> iconRes: </span><span style="color:#F69D50;">Int</span><span style="color:#ADBAC7;">,</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">var</span><span style="color:#ADBAC7;"> name: </span><span style="color:#F69D50;">String</span><span style="color:#ADBAC7;">,</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">var</span><span style="color:#ADBAC7;"> title: </span><span style="color:#F69D50;">String</span><span style="color:#ADBAC7;">,</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">var</span><span style="color:#ADBAC7;"> dataType: </span><span style="color:#F69D50;">Int</span></span>
<span class="line"><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// Assume this is the dataset you need to bind to.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> listData </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">ArrayList</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">CustomBean</span><span style="color:#ADBAC7;">&gt;()</span></span>
<span class="line"><span style="color:#768390;">// Create and bind to custom RecyclerView.Adapter.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> adapter </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> recyclerView.</span><span style="color:#DCBDFB;">bindAdapter</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">CustomBean</span><span style="color:#ADBAC7;">&gt; {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Bind dataset.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">onBindData</span><span style="color:#ADBAC7;"> { listData }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Bind the View type.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">onBindViewsType</span><span style="color:#ADBAC7;"> { bean, position </span><span style="color:#F47067;">-&gt;</span><span style="color:#ADBAC7;"> bean.dataType }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Bind custom adapter layout adapter_custom_1.xml.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">onBindViews</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">AdapterCustom1Binding</span><span style="color:#ADBAC7;">&gt;(viewType </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">) { binding, bean, position </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">        binding.iconView.</span><span style="color:#DCBDFB;">setImageResource</span><span style="color:#ADBAC7;">(bean.iconRes)</span></span>
<span class="line"><span style="color:#ADBAC7;">        binding.textView.text </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> bean.name</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Bind custom adapter layout adapter_custom_2.xml.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">onBindViews</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">AdapterCustom2Binding</span><span style="color:#ADBAC7;">&gt;(viewType </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">2</span><span style="color:#ADBAC7;">) { binding, bean, position </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">        binding.iconView.</span><span style="color:#DCBDFB;">setImageResource</span><span style="color:#ADBAC7;">(bean.iconRes)</span></span>
<span class="line"><span style="color:#ADBAC7;">        binding.titleView.text </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> bean.title</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Set the click event for each item.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">onItemViewsClick</span><span style="color:#ADBAC7;"> { itemView, viewType, bean, position </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// Your code here.</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Create the header <code>View</code> and the footer <code>View</code> for <code>RecyclerView</code>.</p><p>You can use the <code>onBindHeaderView</code> and <code>onBindFooterView</code> methods to add a header <code>View</code> and a footer <code>View</code>.</p><p>These are two special item layouts, they will not be calculated into the bound data and are passed through the subscript <code>position</code> of method callbacks such as <code>onBindViews</code> is not affected.</p><div class="custom-container warning"><p class="custom-container-title">Notice</p><p>You can only add one header <code>View</code> and one footer <code>View</code> at the same time.</p></div><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your entity class.</span></span>
<span class="line"><span style="color:#F47067;">data</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">CustomBean</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">var</span><span style="color:#ADBAC7;"> iconRes: </span><span style="color:#F69D50;">Int</span><span style="color:#ADBAC7;">,</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">var</span><span style="color:#ADBAC7;"> name: </span><span style="color:#F69D50;">String</span></span>
<span class="line"><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// Assume this is the data set you need to bind to.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> listData </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">ArrayList</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">CustomBean</span><span style="color:#ADBAC7;">&gt;()</span></span>
<span class="line"><span style="color:#768390;">// Create and bind to custom RecyclerView.Adapter.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> adapter </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> recyclerView.</span><span style="color:#DCBDFB;">bindAdapter</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">CustomBean</span><span style="color:#ADBAC7;">&gt; {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Bind data set.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">onBindData</span><span style="color:#ADBAC7;"> { listData }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Bind the header View.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">onBindHeaderView</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">AdapterHeaderBinding</span><span style="color:#ADBAC7;">&gt; { binding </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">        binding.someText.text </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;Header&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Bind the footer View.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">onBindFooterView</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">AdapterFooterBinding</span><span style="color:#ADBAC7;">&gt; { binding </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">        binding.someText.text </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;Footer&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Bind custom adapter layout adapter_custom.xml.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">onBindViews</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">AdapterCustomBinding</span><span style="color:#ADBAC7;">&gt; { binding, bean, position </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">        binding.iconView.</span><span style="color:#DCBDFB;">setImageResource</span><span style="color:#ADBAC7;">(bean.iconRes)</span></span>
<span class="line"><span style="color:#ADBAC7;">        binding.textView.text </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> bean.name</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you want to manually create a <code>RecyclerView.Adapter</code> and bind it to <code>RecyclerView</code>, <code>ViewPager2</code>, please refer to the following example.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your current Context.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> context: </span><span style="color:#F69D50;">Context</span></span>
<span class="line"><span style="color:#768390;">// Create a RecyclerView.Adapter manually.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> adapter </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">RecyclerAdapter</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">CustomBean</span><span style="color:#ADBAC7;">&gt;(context) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// The content is the same as above.</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">// Create a cosmetic manually.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> cosmetic </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> RecyclerCosmetic.</span><span style="color:#DCBDFB;">fromLinearVertical</span><span style="color:#ADBAC7;">(context)</span></span>
<span class="line"><span style="color:#768390;">// Then bind to recyclerView.</span></span>
<span class="line"><span style="color:#ADBAC7;">recyclerView.layoutManager </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> cosmetic.layoutManager</span></span>
<span class="line"><span style="color:#ADBAC7;">recyclerView.</span><span style="color:#DCBDFB;">addItemDecoration</span><span style="color:#ADBAC7;">(cosmetic.itemDecoration) </span></span>
<span class="line"><span style="color:#ADBAC7;">recyclerView.adapter </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> adapter</span></span>
<span class="line"><span style="color:#768390;">// You don&#39;t need to set layoutManager when binding to viewPager2</span></span>
<span class="line"><span style="color:#ADBAC7;">viewPager2.</span><span style="color:#DCBDFB;">addItemDecoration</span><span style="color:#ADBAC7;">(cosmetic.itemDecoration) </span></span>
<span class="line"><span style="color:#ADBAC7;">viewPager2.adapter </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> adapter</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>BetterAndroid</code> presets several common adapter layout types for <code>RecyclerView</code> for developers to use.</p><p>You can specify a <code>RecyclerCosmetic</code> in the method parameter, which defaults to a linear vertical cosmetic.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Create a linear vertical cosmetic with 10dp row spacing.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> lvCosmetic </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> RecyclerCosmetic.</span><span style="color:#DCBDFB;">fromLinearVertical</span><span style="color:#ADBAC7;">(context, </span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context))</span></span>
<span class="line"><span style="color:#768390;">// Create a nine-square grid vertical cosmetic with a column spacing of 10dp and a row spacing of 10dp.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> gvCosmetic </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> RecyclerCosmetic.</span><span style="color:#DCBDFB;">fromGridVertical</span><span style="color:#ADBAC7;">(context, </span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context), </span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context))</span></span>
<span class="line"><span style="color:#768390;">// Take lvCosmetic as an example.</span></span>
<span class="line"><span style="color:#768390;">// Use bindAdapter to bind to recyclerView.</span></span>
<span class="line"><span style="color:#ADBAC7;">recyclerView.</span><span style="color:#DCBDFB;">bindAdapter</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">CustomBean</span><span style="color:#ADBAC7;">&gt;(lvCosmetic) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// ...</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">// Or, bind manually.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> adapter </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">RecyclerAdapter</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">CustomBean</span><span style="color:#ADBAC7;">&gt;(context) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// ...</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#ADBAC7;">recyclerView.layoutManager </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> lvCosmetic.layoutManager</span></span>
<span class="line"><span style="color:#ADBAC7;">recyclerView.</span><span style="color:#DCBDFB;">addItemDecoration</span><span style="color:#ADBAC7;">(lvCosmetic.itemDecoration)</span></span>
<span class="line"><span style="color:#ADBAC7;">recyclerView.adapter </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> adapter</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">Tips</p><p>If you only need a <code>ItemDecoration</code>, you can create it through the preset <code>LinearHorizontalItemDecoration</code>, <code>LinearVerticalItemDecoration</code>, <code>GridVerticalItemDecoration</code>.</p><p>Here&#39;s a simple example.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Create a linear vertical item decoration with a line spacing of 10dp.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> itemDecoration </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">LinearVerticalItemDecoration</span><span style="color:#ADBAC7;">(rowSpacing </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context))</span></span>
<span class="line"><span style="color:#768390;">// Set to recyclerView.</span></span>
<span class="line"><span style="color:#ADBAC7;">recyclerView.</span><span style="color:#DCBDFB;">addItemDecoration</span><span style="color:#ADBAC7;">(itemDecoration)</span></span>
<span class="line"><span style="color:#768390;">// If you need to update the parameters of item decoration, you can use the update method.</span></span>
<span class="line"><span style="color:#ADBAC7;">itemDecoration.</span><span style="color:#DCBDFB;">update</span><span style="color:#ADBAC7;">(rowSpacing </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">15</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">toPx</span><span style="color:#ADBAC7;">(context))</span></span>
<span class="line"><span style="color:#768390;">// Then notify recyclerView to update.</span></span>
<span class="line"><span style="color:#ADBAC7;">recyclerView.</span><span style="color:#DCBDFB;">invalidateItemDecorations</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>In addition to using <code>ViewBinding</code> in the above example, you can also use a traditional <code>View</code> or a layout resource ID to bind it to the adapter layout.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Bind custom adapter layout adapter_custom.xml.</span></span>
<span class="line"><span style="color:#DCBDFB;">onBindViews</span><span style="color:#ADBAC7;">(R.layout.adapter_custom) { view, bean, position </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">    view.</span><span style="color:#DCBDFB;">findViewById</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">ImageView</span><span style="color:#ADBAC7;">&gt;(R.id.icon_view).</span><span style="color:#DCBDFB;">setImageResource</span><span style="color:#ADBAC7;">(bean.iconRes)</span></span>
<span class="line"><span style="color:#ADBAC7;">    view.</span><span style="color:#DCBDFB;">findViewById</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">TextView</span><span style="color:#ADBAC7;">&gt;(R.id.text_view).text </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> bean.name</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">// Assume this is your custom view.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> adapterView: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// Bind custom adapter layout with adapterView.</span></span>
<span class="line"><span style="color:#DCBDFB;">onBindViews</span><span style="color:#ADBAC7;">(adapterView) { view, bean, position </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Your code here.</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Create a <code>FragmentPagerAdapter</code> for <code>ViewPager</code>.</p><div class="custom-container warning"><p class="custom-container-title">Notice</p><p>This usage is officially deprecated, start using <code>ViewPager2</code> if possible.</p></div><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your current FragmentActivity.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> activity: </span><span style="color:#F69D50;">FragmentActivity</span></span>
<span class="line"><span style="color:#768390;">// Create and bind to a custom FragmentPagerAdapter.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> adapter </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> viewPager.</span><span style="color:#DCBDFB;">bindFragments</span><span style="color:#ADBAC7;">(activity) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Set the number of fragments to display.</span></span>
<span class="line"><span style="color:#ADBAC7;">    pageCount </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">5</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Bind each fragment.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">onBindFragments</span><span style="color:#ADBAC7;"> { position </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">when</span><span style="color:#ADBAC7;"> (position) {</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">-&gt;</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">FirstFragment</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">-&gt;</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">SecondFragment</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#6CB6FF;">2</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">-&gt;</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">ThirdFragment</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#6CB6FF;">3</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">-&gt;</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">FourthFragment</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#F47067;">else</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">-&gt;</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">FifthFragment</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">        }</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can also customize the <code>behavior</code> parameter in the same way as the constructor of <code>FragmentPagerAdapter</code>.</p><p>If you are using <code>Fragment</code>, you can fill in the current <code>Fragment</code> instance in the first parameter of <code>bindFragments</code> and it will be automatically bound to <code>getChildFragmentManager()</code>.</p><p>If you want to manually create a <code>FragmentPagerAdapter</code> and bind it to <code>ViewPager</code>, please refer to the following example.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your current FragmentActivity.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> activity: </span><span style="color:#F69D50;">FragmentActivity</span></span>
<span class="line"><span style="color:#768390;">// Create a FragmentPagerAdapter manually.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> adapter </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">FragmentPagerAdapter</span><span style="color:#ADBAC7;">(activity) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// The content is the same as above.</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">// Then bind to viewPager.</span></span>
<span class="line"><span style="color:#ADBAC7;">viewPager.adapter </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> adapter</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Create a <code>FragmentStateAdapter</code> for <code>ViewPager2</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your current FragmentActivity.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> activity: </span><span style="color:#F69D50;">FragmentActivity</span></span>
<span class="line"><span style="color:#768390;">// Create and bind to a custom FragmentPagerAdapter.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> adapter </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> viewPager2.</span><span style="color:#DCBDFB;">bindFragments</span><span style="color:#ADBAC7;">(activity) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Set the number of fragments to display.</span></span>
<span class="line"><span style="color:#ADBAC7;">    pageCount </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">5</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Bind each fragment.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">onBindFragments</span><span style="color:#ADBAC7;"> { position </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">when</span><span style="color:#ADBAC7;"> (position) {</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">-&gt;</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">FirstFragment</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">-&gt;</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">SecondFragment</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#6CB6FF;">2</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">-&gt;</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">ThirdFragment</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#6CB6FF;">3</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">-&gt;</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">FourthFragment</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#F47067;">else</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">-&gt;</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">FifthFragment</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">        }</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you are using <code>Fragment</code>, you can fill in the current <code>Fragment</code> instance in the first parameter of <code>bindFragments</code> and it will be automatically bound to <code>getChildFragmentManager()</code>.</p><p>If you want to manually create a <code>FragmentStateAdapter</code> and bind it to <code>ViewPager2</code>, please refer to the following example.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your current FragmentActivity.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> activity: </span><span style="color:#F69D50;">FragmentActivity</span></span>
<span class="line"><span style="color:#768390;">// Create a FragmentStateAdapter manually.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> adapter </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">FragmentStateAdapter</span><span style="color:#ADBAC7;">(activity) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// The content is the same as above.</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">// Then bind to viewPager2.</span></span>
<span class="line"><span style="color:#ADBAC7;">viewPager2.adapter </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> adapter</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="system-event" tabindex="-1"><a class="header-anchor" href="#system-event" aria-hidden="true">#</a> System Event</h3><div class="custom-container tip"><p class="custom-container-title">Contents of This Section</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.backpress/-back-pressed-controller" target="_blank" rel="noopener noreferrer">BackPressedController<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>Back pressed event controller.</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.backpress.callback/-on-back-pressed-callback" target="_blank" rel="noopener noreferrer">OnBackPressedCallback<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>Simple back pressed event callback.</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.proxy/-i-back-pressed-controller" target="_blank" rel="noopener noreferrer">IBackPressedController<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>Back pressed event controller interface.</p></div><p>An <code>OnBackPressedDispatcher</code> has been provided for developers in the <code>androidx</code> dependency <code>androidx.activity:activity</code>.</p><p>However, out of dissatisfaction with the official rash deprecated overwriting of the <code>onBackPressed</code> method, <code>BetterAndroid</code> encapsulated the <code>OnBackPressedDispatcher</code> related functions.</p><p>It supports the back pressed event callback function that is more suitable for Kotlin writing, and also adds the function of ignoring all callback events and directly releasing the back pressed event, making it more flexible and easy to use.</p><p><code>AppBindingActivity</code>, <code>AppViewsActivity</code>, <code>AppComponentActivity</code>, <code>AppBindingFragment</code>, <code>AppViewsFragment</code> have implemented the <code>IBackPressedController</code> interface by default, you can directly use <code>backPressed</code> to obtain <code>BackPressedController</code>.</p><p>But you can still manually create a <code>BackPressedController</code> in <code>Activity</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">YourActivity</span><span style="color:#ADBAC7;"> : </span><span style="color:#F69D50;">AppCompatActivity</span><span style="color:#ADBAC7;">() {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Create a lazy object.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> backPressed </span><span style="color:#F47067;">by</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">lazy</span><span style="color:#ADBAC7;"> { BackPressedController.</span><span style="color:#DCBDFB;">from</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">this</span><span style="color:#ADBAC7;">) }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">override</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">fun</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">onCreate</span><span style="color:#ADBAC7;">(savedInstanceState: </span><span style="color:#F69D50;">Bundle</span><span style="color:#ADBAC7;">?) {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">super</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">onCreate</span><span style="color:#ADBAC7;">(savedInstanceState)</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#DCBDFB;">setContentView</span><span style="color:#ADBAC7;">(R.layout.activity_main)</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// Call backPressed here to implement related functions.</span></span>
<span class="line"><span style="color:#ADBAC7;">        backPressed</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">override</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">fun</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">onDestroy</span><span style="color:#ADBAC7;">() {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">super</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">onDestroy</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// Destroy backPressed, this will remove all callbacks.</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// Optional, prevent memory leaks.</span></span>
<span class="line"><span style="color:#ADBAC7;">        backPressed.</span><span style="color:#DCBDFB;">destroy</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The following is the basic usage of <code>BackPressedController</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Add a back pressed callback</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> callback </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> backPressed.</span><span style="color:#DCBDFB;">addCallback</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Ignore the current callback within the callback and trigger the back operation.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// For example, you can pop up a dialog here to ask the user whether to exit</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// and select &quot;Yes&quot; at this time.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// The object passed in needs to be the backPressed that created this callback.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">trigger</span><span style="color:#ADBAC7;">(backPressed)</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Or remove itself at the same time after triggering.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">trigger</span><span style="color:#ADBAC7;">(backPressed, removed </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Remove directly. (Not recommended, you should use backPressed.removeCallback)</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#DCBDFB;">remove</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">// You can also create a callback manually.</span></span>
<span class="line"><span style="color:#768390;">// Note: Please make sure to import com.highcapable.betterandroid.ui.component.backpress.callback</span></span>
<span class="line"><span style="color:#768390;">//       OnBackPressedCallback under the package name, NOT androidx.activity.OnBackPressedCallback</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> callback </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">OnBackPressedCallback</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Your code here.</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">// Then add to backPressed.</span></span>
<span class="line"><span style="color:#ADBAC7;">backPressed.</span><span style="color:#DCBDFB;">addCallback</span><span style="color:#ADBAC7;">(callback)</span></span>
<span class="line"><span style="color:#768390;">// Remove a known callback.</span></span>
<span class="line"><span style="color:#ADBAC7;">backPressed.</span><span style="color:#DCBDFB;">removeCallback</span><span style="color:#ADBAC7;">(callback)</span></span>
<span class="line"><span style="color:#768390;">// Trigger the back operation of the system.</span></span>
<span class="line"><span style="color:#ADBAC7;">backPressed.</span><span style="color:#DCBDFB;">trigger</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// You can set ignored to true to ignore all added callbacks and back directly.</span></span>
<span class="line"><span style="color:#ADBAC7;">backPressed.</span><span style="color:#DCBDFB;">trigger</span><span style="color:#ADBAC7;">(ignored </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// Determine whether there is currently an enabled callback</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> hasEnabledCallbacks </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> backPressed.hasEnabledCallbacks</span></span>
<span class="line"><span style="color:#768390;">// Destroy, this will remove all callbacks.</span></span>
<span class="line"><span style="color:#ADBAC7;">backPressed.</span><span style="color:#DCBDFB;">destroy</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Notice</p><p>After using <code>BackPressedController</code>, the current <code>OnBackPressedDispatcher</code> has been automatically taken over by it.</p><p>You should not continue to use <code>onBackPressedDispatcher.addCallback(...)</code> as this will expose unknown (wild) callbacks and prevent them from being cleanly removed.</p></div><h3 id="notification" tabindex="-1"><a class="header-anchor" href="#notification" aria-hidden="true">#</a> Notification</h3><div class="custom-container tip"><p class="custom-container-title">Contents of This Section</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.notification/-notification-builder" target="_blank" rel="noopener noreferrer">NotificationBuilder<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>System notification builder.</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.notification/-notification-channel-builder" target="_blank" rel="noopener noreferrer">NotificationChannelBuilder<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>System notification channel builder.</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.notification/-notification-channel-group-builder" target="_blank" rel="noopener noreferrer">NotificationChannelGroupBuilder<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>System notification channel group builder.</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.notification.type/-notification-importance" target="_blank" rel="noopener noreferrer">NotificationImportance<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>System notification importance.</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.notification/-notification-poster" target="_blank" rel="noopener noreferrer">NotificationPoster<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>System notification poster.</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.notification.factory" target="_blank" rel="noopener noreferrer">Notification<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>Extension methods for the notification builds.</p></div><p>It is not easy to create and send a notification in Android.</p><p>The biggest problem is that the creation of system notifications is complicated, management is confusing, and the API is difficult to be easily compatible with older versions.</p><p>Especially when developers see the two classes <code>NotificationCompat</code> and <code>NotificationChannelCompat</code>, they will feel at a loss to start.</p><p>So <code>BetterAndroid</code> comprehensively encapsulates the system notification-related APIs, basically covering all functions and calls that can be used in system notifications.</p><p>So you no longer need to consider compatibility issues with Android 8 and below systems like notification channels, <code>BetterAndroid</code> has already taken care of these issues for you.</p><p>In Kotlin you can create a system notification more easily.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your current Context.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> context: </span><span style="color:#F69D50;">Context</span></span>
<span class="line"><span style="color:#768390;">// Create the notification object that needs to be posted.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> notification </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> context.</span><span style="color:#DCBDFB;">createNotification</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Create and set up notification channels.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// A notification channel must exist in Android 8 and above systems.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// In systems lower than Android 8, this feature will be automatically compatible.</span></span>
<span class="line"><span style="color:#ADBAC7;">    channel </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">NotificationChannel</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;my_channel_id&quot;</span><span style="color:#ADBAC7;">) {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// Set the notification channel name.</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// (this will be displayed in the system&#39;s notification settings)</span></span>
<span class="line"><span style="color:#ADBAC7;">        name </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;My Channel&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// Set notification channel description.</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// (this will be displayed in the system&#39;s notification settings)</span></span>
<span class="line"><span style="color:#ADBAC7;">        description </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;My channel description.&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// The rest of the usage is consistent with NotificationChannelCompat.Builder.</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Set the notification icon. (this will be displayed in the status bar and notification bar)</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// The notification icon must be a monochrome icon. (a vector image is recommended)</span></span>
<span class="line"><span style="color:#ADBAC7;">    smallIconResId </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> R.drawable.ic_my_notification</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Set notification title.</span></span>
<span class="line"><span style="color:#ADBAC7;">    contentTitle </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;My Notification&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Set notification content.</span></span>
<span class="line"><span style="color:#ADBAC7;">    contentText </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;Hello World!&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// The rest of the usage is consistent with NotificationCompat.Builder.</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">// Post notification using default notification ID.</span></span>
<span class="line"><span style="color:#ADBAC7;">notification.</span><span style="color:#DCBDFB;">post</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// Post notification using custom notification ID.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> notifyId </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">1</span></span>
<span class="line"><span style="color:#ADBAC7;">notification.</span><span style="color:#DCBDFB;">post</span><span style="color:#ADBAC7;">(notifyId)</span></span>
<span class="line"><span style="color:#768390;">// Cancel the current notification. (this will clear the notification from the system notification bar)</span></span>
<span class="line"><span style="color:#ADBAC7;">notification.</span><span style="color:#DCBDFB;">cancel</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// Determine whether the current notification has been canceled.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> isCanceled </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> notification.isCanceled</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Notice</p><p>In Android 13 and above, you need to define and add runtime permission for notifications.</p><p>When this permission is not defined correctly, calling the <code>post</code> method will automatically ask you to add the permission to <code>AndroidManifest.xml</code>.</p><p>Please refer to <a href="https://developer.android.com/develop/ui/views/notifications/notification-permission" target="_blank" rel="noopener noreferrer">Notification runtime permission<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p></div><p>You can set importance for notifications in notification channels using the following methods.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your current Context.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> context: </span><span style="color:#F69D50;">Context</span></span>
<span class="line"><span style="color:#768390;">// Create the notification object that needs to be posted.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> notification </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> context.</span><span style="color:#DCBDFB;">createNotification</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Create and set up notification channels.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// In systems lower than Android 8, this feature will be automatically compatible.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Importance determines the importance of the notification,</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// which affects how the notification is displayed.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// BetterAndroid sets the importance static variable in NotificationManager.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Encapsulated into NotificationImportance, you can set the</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// importance of notifications more conveniently.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Here we set NotificationImportance.HIGH (high importance),</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// this will display the notification as a banner in the system notification with a ring reminder.</span></span>
<span class="line"><span style="color:#ADBAC7;">    channel </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">NotificationChannel</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;my_channel_id&quot;</span><span style="color:#ADBAC7;">, importance </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> NotificationImportance.HIGH) {</span></span>
<span class="line"><span style="color:#ADBAC7;">        name </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;My Channel&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">        description </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;My channel description.&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    smallIconResId </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> R.drawable.ic_my_notification</span></span>
<span class="line"><span style="color:#ADBAC7;">    contentTitle </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;My Notification&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">    contentText </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;Hello World!&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">// Post notification using default notification ID.</span></span>
<span class="line"><span style="color:#ADBAC7;">notification.</span><span style="color:#DCBDFB;">post</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>When encountering multiple groups of notifications, you can use the following methods to create a group of notification channels.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your current Context.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> context: </span><span style="color:#F69D50;">Context</span></span>
<span class="line"><span style="color:#768390;">// Create a notification channel group.</span></span>
<span class="line"><span style="color:#768390;">// In systems lower than Android 8, this feature will have no effect.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> channelGroup </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">NotificationChannelGroup</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;my_channel_group_id&quot;</span><span style="color:#ADBAC7;">) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">//Set the notification channel group name.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// (this will be displayed in the system&#39;s notification settings)</span></span>
<span class="line"><span style="color:#ADBAC7;">    name </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;My Channel Group&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Set notification channel group description.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// (this will be displayed in the system&#39;s notification settings)</span></span>
<span class="line"><span style="color:#ADBAC7;">    description </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;My channel group description.&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">// Create the first notification channel and specify the notification channel group.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> channel1 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">NotificationChannel</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;my_channel_id_1&quot;</span><span style="color:#ADBAC7;">, channelGroup) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    name </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;My Channel 1&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">    description </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;My channel description.&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">// Create the second notification channel and specify the notification channel group.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> channel2 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">NotificationChannel</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;my_channel_id_2&quot;</span><span style="color:#ADBAC7;">, channelGroup) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    name </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;My Channel 2&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">    description </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;My channel description.&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">// Use channel1 to create the first notification and post it.</span></span>
<span class="line"><span style="color:#ADBAC7;">context.</span><span style="color:#DCBDFB;">createNotification</span><span style="color:#ADBAC7;">(channel1) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    smallIconResId </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> R.drawable.ic_my_notification</span></span>
<span class="line"><span style="color:#ADBAC7;">    contentTitle </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;My Notification 1&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">    contentText </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;Hello World!&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">}.</span><span style="color:#DCBDFB;">post</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">1</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// Use channel2 to create the second notification and post it.</span></span>
<span class="line"><span style="color:#ADBAC7;">context.</span><span style="color:#DCBDFB;">createNotification</span><span style="color:#ADBAC7;">(channel2) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    smallIconResId </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> R.drawable.ic_my_notification</span></span>
<span class="line"><span style="color:#ADBAC7;">    contentTitle </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;My Notification 2&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">    contentText </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;Hello World!&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">}.</span><span style="color:#DCBDFB;">post</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">2</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The above will create a notification channel group and add two notification channels to it.</p><p>After the notification is posted, the system will automatically create a group classification for these two notification channels.</p><div class="custom-container warning"><p class="custom-container-title">Notice</p><p>The settings in the notification channel will only take effect when the notification channel is first created.</p><p>If the settings of the notification channel are modified by the user, these settings will not be overwritten again.</p><p>You cannot modify the settings of a notification channel that has already been created, but you can reassign it a new notification channel ID, which will create a new notification channel.</p><p>Please refer to <a href="https://developer.android.com/develop/ui/views/notifications/channels" target="_blank" rel="noopener noreferrer">Create and manage notification channels<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p></div><p>In the above example, the notification object is managed automatically, if you want to manually create a notification object without relying on the <code>context.createNotification</code> method, please refer to the following example.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your current Context.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> context: </span><span style="color:#F69D50;">Context</span></span>
<span class="line"><span style="color:#768390;">// Create the notification object that needs to be posted.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> notification </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">Notification</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Set Context.</span></span>
<span class="line"><span style="color:#ADBAC7;">    context </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> context,</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Create and set up notification channels.</span></span>
<span class="line"><span style="color:#ADBAC7;">    channel </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">NotificationChannel</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;my_channel_id&quot;</span><span style="color:#ADBAC7;">) {</span></span>
<span class="line"><span style="color:#ADBAC7;">        name </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;My Channel&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">        description </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;My channel description.&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    smallIconResId </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> R.drawable.ic_my_notification</span></span>
<span class="line"><span style="color:#ADBAC7;">    contentTitle </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;My Notification&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">    contentText </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;Hello World!&quot;</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"><span style="color:#768390;">// Use the current notification as a post object.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> poster </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> notification.</span><span style="color:#DCBDFB;">asPoster</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// Post notification using default notification ID.</span></span>
<span class="line"><span style="color:#ADBAC7;">poster.</span><span style="color:#DCBDFB;">post</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// Post notification using custom notification ID.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> notifyId </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">1</span></span>
<span class="line"><span style="color:#ADBAC7;">poster.</span><span style="color:#DCBDFB;">post</span><span style="color:#ADBAC7;">(notifyId)</span></span>
<span class="line"><span style="color:#768390;">// Cancel the current notification. (this will clear the notification from the system notification bar)</span></span>
<span class="line"><span style="color:#ADBAC7;">poster.</span><span style="color:#DCBDFB;">cancel</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// Determine whether the current notification has been canceled.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> isCanceled </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> poster.isCanceled</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">Tips</p><p>Objects created through <code>Notification</code>, <code>NotificationChannel</code>, <code>NotificationChannelGroup</code> are a wrapper for <code>NotificationCompat</code>, <code>NotificationChannelCompat</code>, and <code>NotificationChannelGroupCompat</code>.</p><p>You can use <code>instance</code> to get the actual object to perform some of your own operations.</p><p>You can also get the <code>NotificationManagerCompat</code> object through <code>Context.notificationManager</code> to perform some of your own operations.</p></div><h3 id="insets" tabindex="-1"><a class="header-anchor" href="#insets" aria-hidden="true">#</a> Insets</h3><div class="custom-container tip"><p class="custom-container-title">Contents of This Section</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.insets/-window-insets-wrapper" target="_blank" rel="noopener noreferrer">WindowInsetsWrapper<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>A wrapper for <code>WindowInsets</code>.</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.insets/-window-insets-wrapper/-absolute" target="_blank" rel="noopener noreferrer">WindowInsetsWrapper.Absolute<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>An absolute insets for <code>WindowInsetsWrapper</code>.</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.insets/-insets-wrapper" target="_blank" rel="noopener noreferrer">InsetsWrapper<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>A wrapper for <code>Insets</code>.</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.insets.factory" target="_blank" rel="noopener noreferrer">Insets<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>Extension methods for <code>Insets</code>, <code>WindowInsets</code>.</p></div><div class="custom-container warning"><p class="custom-container-title">Notice</p><p>Among the library of <code>1.0.3</code> and previous versions, <code>BetterAndroid</code> encapsulates insest, window insets and <a href="#system-bars-status-bars-navigation-bars-etc">System Bars (Status Bars, Navigation Bars, etc)</a>, this was once incorrect, and now insets and window insets have been decoupled into separate functions, as you can see now.</p></div><p>Insets and window insets are a very important concept in Android.</p><p>Although this API has existed as early as Android 5.0, it was only officially recommended in Android 10. (Since Android 9, the system has added related APIs for cutout displays processing)</p><p>Insets is a special space, which represents the placeholder area &quot;attached&quot; around the view, insets held by the system such as the part blocked by the cutout displays (notch screens), status bars, navigation bars, and input method are called window insets.</p><p>What <code>BetterAndroid</code> mainly does is wrapped this set of APIs to make them easier to use.</p><p>Next, you can create a <code>WindowInsetsWrapper</code> from an existing <code>WindowInsets</code> object.</p><div class="custom-container tip"><p class="custom-container-title">Tips</p><p><code>WindowInsetsWrapper</code> is designed with reference to the <a href="https://developer.android.com/jetpack/compose/layouts/insets" target="_blank" rel="noopener noreferrer">Window Insets API<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> officially provided by Jetpack Compose.</p><p>You can better use this set at the native level API.</p></div><p>For backward compatibility reasons, the object wrapped by <code>WindowInsetsWrapper</code> is <code>WindowInsetsCompat</code> and it is recommended to use it instead of <code>WindowInsets</code>.</p><p><code>WindowInsetsWrapper</code> wrapped <code>WindowInsetsCompat.getInsets</code>, <code>WindowInsetsCompat.getInsetsIgnoringVisibility</code>, <code>WindowInsetsCompat.isVisible</code> and other methods, you no longer need to write super long code such as <code>WindowInsetsCompat.getInsets(WindowInsetsCompat.Type.systemBars())</code> to get an insets.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your WindowInsets.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> windowInsets: </span><span style="color:#F69D50;">WindowInsetsCompat</span></span>
<span class="line"><span style="color:#768390;">// Create a WindowInsetsWrapper.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insetsWrapper </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> windowInsets.</span><span style="color:#DCBDFB;">createWrapper</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// You can also create it through the from method.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insetsWrapper </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> WindowInsetsWrapper.</span><span style="color:#DCBDFB;">from</span><span style="color:#ADBAC7;">(windowInsets)</span></span>
<span class="line"><span style="color:#768390;">// Get the insets of the system bars.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> systemBars </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insetsWrapper.systemBars</span></span>
<span class="line"><span style="color:#768390;">// Normally, the obtained insets will include its visibility,</span></span>
<span class="line"><span style="color:#768390;">// when invisible, the values of insets are all 0.</span></span>
<span class="line"><span style="color:#768390;">// You can ignore visibility by passing parameter ignoringVisibility.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> systemBars </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insetsWrapper.</span><span style="color:#DCBDFB;">systemBars</span><span style="color:#ADBAC7;">(ignoreVisibility </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// After obtaining the insets, you can use isVisible to determine whether it is visible.</span></span>
<span class="line"><span style="color:#768390;">// Note: The value of insets is provided by the system, isVisible is just a state,</span></span>
<span class="line"><span style="color:#768390;">// regardless of whether its value is 0,</span></span>
<span class="line"><span style="color:#768390;">// you can use it to determine whether the current insets are visible.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insetsIsVisible </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> systemBars.isVisible</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>BetterAndroid</code> has made a compatibility process for the respective private solutions of manufacturers of mainstream brands of cutout display devices below Android 9.</p><p>If you need to be compatible with older devices, you can pass in an optional <code>Window</code> object in the method parameter.</p><p>If your apps only needs to adapt to Android 9 and above devices, you can ignore this parameter.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your activity.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> activity: </span><span style="color:#F69D50;">Activity</span></span>
<span class="line"><span style="color:#768390;">// Under normal circumstances, you can get the window through the current activity.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> window </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> activity.window</span></span>
<span class="line"><span style="color:#768390;">// Create a WindowInsetsWrapper.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insetsWrapper </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> windowInsets.</span><span style="color:#DCBDFB;">createWrapper</span><span style="color:#ADBAC7;">(window)</span></span>
<span class="line"><span style="color:#768390;">// You can also create it through the from method.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insetsWrapper </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> WindowInsetsWrapper.</span><span style="color:#DCBDFB;">from</span><span style="color:#ADBAC7;">(windowInsets, window)</span></span>
<span class="line"><span style="color:#768390;">// Get the insets of the cutout displays.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> displayCutout </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insetsWrapper.displayCutout</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Notice</p><p>If your app needs to run on Android 10 or below devices, we recommend always passing in a <code>Window</code> object to ensure that <code>BetterAndroid</code> can correctly handle compatibility issues for you.</p><p>Currently known compatibility issues are that the compatibility processing method provided by <code>androidx</code> cannot give correct values ​​to the <code>isVisible</code> and their contents of <code>statusBars</code>, <code>navigationBars</code>, <code>systemBars</code> of devices below Android 11, for this reason, <code>BetterAndroid</code> repairs were made.</p></div><p>Any insets you get from <code>WindowInsetsWrapper</code> is <code>InsetsWrapper</code>, which wrapped <code>Insets</code> and implements controllable <code>isVisible</code> state.</p><p><code>InsetsWrapper</code> can be easily converted to an original <code>Insets</code> object, and can also be converted back to an <code>InsetsWrapper</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Get the insets of the system bars.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> systemBars </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insetsWrapper.systemBars</span></span>
<span class="line"><span style="color:#768390;">// Convert to Insets.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insets </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> systemBars.</span><span style="color:#DCBDFB;">toInsets</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// Convert to InsetsWrapper.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> wrapper </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insets.</span><span style="color:#DCBDFB;">toWrapper</span><span style="color:#ADBAC7;">(systemBars.isVisible)</span></span>
<span class="line"><span style="color:#768390;">// You can also create it through the of method.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> wrapper </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> InsetsWrapper.</span><span style="color:#DCBDFB;">of</span><span style="color:#ADBAC7;">(insets, systemBars.isVisible)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Unlike <code>Insets</code>, <code>InsetsWrapper</code> has overloaded operators, and you can use <code>+</code>, <code>-</code> and <code>or</code>, <code>and</code> to operate or compare on it.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insets1 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> InsetsWrapper.</span><span style="color:#DCBDFB;">of</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">, </span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">, </span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">, </span><span style="color:#6CB6FF;">10</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insets2 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> InsetsWrapper.</span><span style="color:#DCBDFB;">of</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;">, </span><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;">, </span><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;">, </span><span style="color:#6CB6FF;">20</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// Use &quot;+&quot; operator, equivalent to Insets.add(insets1, insets2).</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insets3 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insets1 </span><span style="color:#F47067;">+</span><span style="color:#ADBAC7;"> insets2</span></span>
<span class="line"><span style="color:#768390;">// Use &quot;-&quot; operator, equivalent to Insets.subtract(insets2, insets1).</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insets3 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insets2 </span><span style="color:#F47067;">-</span><span style="color:#ADBAC7;"> insets1</span></span>
<span class="line"><span style="color:#768390;">// Use &quot;or&quot; operator, equivalent to Insets.max(insets1, insets2).</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insets3 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insets1 or insets2</span></span>
<span class="line"><span style="color:#768390;">// Use &quot;and&quot; operator, equivalent to Insets.min(insets1, insets2).</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insets3 </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insets1 and insets2</span></span>
<span class="line"><span style="color:#768390;">// Use the &quot;&gt;&quot; operator to compare</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> isUpperTo </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insets1 </span><span style="color:#F47067;">&gt;</span><span style="color:#ADBAC7;"> insets2</span></span>
<span class="line"><span style="color:#768390;">// Use the &quot;&lt;&quot; operator to compare</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> isLowerTo </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insets1 </span><span style="color:#F47067;">&lt;</span><span style="color:#ADBAC7;"> insets2</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>After obtaining the insets, the general approach is to set it to the <code>padding</code> of the <code>View</code> so that it &quot;makes way&quot; for the system to occupy the position.</p><p>Whether it is <code>InsetsWrapper</code> or <code>Insets</code>, you do not need to use a form such as <code>View.setPadding(insets.left, insets.top, insets.right, insets.bottom)</code>, which seems extremely unfriendly.</p><p>You can easily set it directly as the <code>padding</code> of a <code>View</code> using the following method.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your current view.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> view: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// Get the insets of the system bars.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> systemBars </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insetsWrapper.systemBars</span></span>
<span class="line"><span style="color:#768390;">// Use insets to set the padding of the view.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.</span><span style="color:#DCBDFB;">setInsetsPadding</span><span style="color:#ADBAC7;">(systemBars)</span></span>
<span class="line"><span style="color:#768390;">// Since the object demonstrated here is the system bars,</span></span>
<span class="line"><span style="color:#768390;">// you can only update the vertical (top and bottom) padding.</span></span>
<span class="line"><span style="color:#768390;">// Using the updateInsetsPadding method has the same effect as updatePadding.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.</span><span style="color:#DCBDFB;">updateInsetsPadding</span><span style="color:#ADBAC7;">(systemBars, vertical </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>As we mentioned above, to create a <code>WindowInsetsWrapper</code>, you need an existing <code>WindowInsetsCompat</code>.</p><p>For backward compatibility reasons, you can use <code>ViewCompat.setOnApplyWindowInsetsListener</code> to set a change listener for <code>View</code>.</p><p>Its essential function is to control the transfer of window insets, window insets are transferred from the root view to the sub view through the <code>View.onApplyWindowInsets</code> method.</p><p>Delivery will not stop until you explicitly consume it using <code>WindowInsetsCompat.CONSUMED</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your current view.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> view: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// Set view&#39;s window insets change listener.</span></span>
<span class="line"><span style="color:#ADBAC7;">ViewCompat.</span><span style="color:#DCBDFB;">setOnApplyWindowInsetsListener</span><span style="color:#ADBAC7;">(view) { view, insets </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// insets is the current WindowInsetsCompat.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// You can create WindowInsetsWrapper through it.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insetsWrapper </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insets.</span><span style="color:#DCBDFB;">createWrapper</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Consume the window insets at the last bit and stop passing them down.</span></span>
<span class="line"><span style="color:#ADBAC7;">    WindowInsetsCompat.CONSUMED </span><span style="color:#768390;">// Or fill in the current insets and continue passing down.</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This approach seems cumbersome, so <code>BetterAndroid</code> also provides you with a simpler method.</p><p>For example, we need to know the space occupied by the input method and set the <code>padding</code> from window insets for the input method layout.</p><p>At this point you can use <code>View.handleOnWindowInsetsChanged</code> to directly get a <code>WindowInsetsWrapper</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your input method layout.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> imeSpaceLayout: </span><span style="color:#F69D50;">FrameLayout</span></span>
<span class="line"><span style="color:#768390;">// Handle view&#39;s window insets change listener.</span></span>
<span class="line"><span style="color:#ADBAC7;">imeSpaceLayout.</span><span style="color:#DCBDFB;">handleOnWindowInsetsChanged</span><span style="color:#ADBAC7;"> { imeSpaceLayout, insetsWrapper </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Set the padding provided by ime.</span></span>
<span class="line"><span style="color:#ADBAC7;">    imeSpaceLayout.</span><span style="color:#DCBDFB;">setInsetsPadding</span><span style="color:#ADBAC7;">(insetsWrapper.ime)</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Or use ime to update the padding at the bottom.</span></span>
<span class="line"><span style="color:#ADBAC7;">    imeSpaceLayout.</span><span style="color:#DCBDFB;">updateInsetsPadding</span><span style="color:#ADBAC7;">(insetsWrapper.ime, bottom </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you want to consume window insets from the subview so that they are no longer passed down, you just need to set <code>consumed = true</code> in the method parameters.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Handle view&#39;s window insets change listener.</span></span>
<span class="line"><span style="color:#ADBAC7;">imeSpaceLayout.</span><span style="color:#DCBDFB;">handleOnWindowInsetsChanged</span><span style="color:#ADBAC7;">(consumed </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span><span style="color:#ADBAC7;">) { imeSpaceLayout, insetsWrapper </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// The content is the same as above.</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you want to animate window insets when they change as well, you don&#39;t need to reset a <code>View.setWindowInsetsAnimationCallback</code>.</p><p>You just need to set <code>animated = true</code> in the method parameters so that the callback will be triggered every time window insets change.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Handle view&#39;s window insets change listener.</span></span>
<span class="line"><span style="color:#ADBAC7;">imeSpaceLayout.</span><span style="color:#DCBDFB;">handleOnWindowInsetsChanged</span><span style="color:#ADBAC7;">(animated </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span><span style="color:#ADBAC7;">) { imeSpaceLayout, insetsWrapper </span><span style="color:#F47067;">-&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// The content is the same as above.</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Notice</p><p>This feature was introduced starting with Android 11, in previous systems, callbacks were still triggered immediately, so no animation effects would be produced.</p></div><p>In addition, when you set up window insets change listeners, you don&#39;t need to care when the listeners were set, you can remove them at any time.</p><p>This operation will remove all <code>View.setOnApplyWindowInsetsListener</code> and <code>View.setWindowInsetsAnimationCallback</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your current view.</span></span>
<span class="line"><span style="color:#ADBAC7;">Val view: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// Remove view&#39;s window insets change listener.</span></span>
<span class="line"><span style="color:#ADBAC7;">view.</span><span style="color:#DCBDFB;">removeWindowInsetsListener</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Notice</p><p>You can only set one window insets listener for a <code>View</code>, repeatedly set listeners will be overwritten by the last one.</p></div><p>If you want to get window insets directly from the current <code>View</code>, then you can also create a <code>WindowInsetsWrapper</code> using the following method.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your current view.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> view: </span><span style="color:#F69D50;">View</span></span>
<span class="line"><span style="color:#768390;">// Create a WindowInsetsWrapper.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insetsWrapper </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> view.</span><span style="color:#DCBDFB;">createRootWindowInsetsWrapper</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// You can also create it through the from method.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> insetsWrapper </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> WindowInsetsWrapper.</span><span style="color:#DCBDFB;">from</span><span style="color:#ADBAC7;">(view)</span></span>
<span class="line"><span style="color:#768390;">// Get the insets of the system bars.</span></span>
<span class="line"><span style="color:#768390;">// If window insets cannot be obtained through view, null will be returned.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> systemBars </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> insetsWrapper?.systemBars</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In addition to the above approach, <code>WindowInsetsWrapper</code> also provides a <code>WindowInsetsWrapper.Absolute</code>, which you can directly pass without any listener and use <code>Window.getDecorView</code> to gets an absolute insets.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your activity.</span></span>
<span class="line"><span style="color:#ADBAC7;">Val activity: </span><span style="color:#F69D50;">Activity</span></span>
<span class="line"><span style="color:#768390;">// Under normal circumstances, you can get the window through the current activity.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> window </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> activity.window</span></span>
<span class="line"><span style="color:#768390;">// Create a WindowInsetsWrapper.Absolute.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> absoluteWrapper </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> WindowInsetsWrapper.Absolute.</span><span style="color:#DCBDFB;">from</span><span style="color:#ADBAC7;">(window)</span></span>
<span class="line"><span style="color:#768390;">// Get the insets of the status bars.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> statusBar </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> absoluteWrapper.statusBar</span></span>
<span class="line"><span style="color:#768390;">// Get the insets of the navigation bars.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> navigationBar </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> absoluteWrapper.navigationBar</span></span>
<span class="line"><span style="color:#768390;">// Get the insets of the system bars.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> systemBars </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> absoluteWrapper.systemBars</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Notice</p><p>The values obtained in this way are for reference only.</p><p>We do not recommend obtaining insets in this way, when the current device has a cutout display, these values may be inaccurate.</p></div><p>Below are all the insets provided in <code>WindowInsetsWrapper</code>.</p><table><thead><tr><th>Insets</th><th>Description</th></tr></thead><tbody><tr><td><code>statusBars</code></td><td>Status bars.</td></tr><tr><td><code>navigationBars</code></td><td>Navigation bars.</td></tr><tr><td><code>captionBar</code></td><td>Caption bar.</td></tr><tr><td><code>systemBars</code></td><td>System bars. (<code>captionBar</code> + <code>statusBars</code> + <code>navigationBars</code>)</td></tr><tr><td><code>ime</code></td><td>Input method.</td></tr><tr><td><code>tappableElement</code></td><td>Tappable element.</td></tr><tr><td><code>systemGestures</code></td><td>System gestures.</td></tr><tr><td><code>mandatorySystemGestures</code></td><td>Mandatory system gestures.</td></tr><tr><td><code>displayCutout</code></td><td>cutout display. (notch screen)</td></tr><tr><td><code>waterFall</code></td><td>Waterfall screen. (curved screen)</td></tr><tr><td><code>safeGestures</code></td><td>Safe gestures. (<code>systemGestures</code> + <code>mandatorySystemGestures</code> + <code>waterFall</code> + <code>tappableElement</code>)</td></tr><tr><td><code>safeDrawing</code></td><td>Safe drawing. (<code>displayCutout</code> + <code>systemBars</code> + <code>ime</code>)</td></tr><tr><td><code>safeDrawingIgnoringIme</code></td><td>Safe drawing. (ignoring <code>ime</code>) (<code>displayCutout</code> + <code>systemBars</code>)</td></tr><tr><td><code>safeContent</code></td><td>Safe content. (<code>safeDrawing</code> + <code>safeGestures</code>)</td></tr></tbody></table><p>Below are all the insets provided in <code>WindowInsetsWrapper.Absolute</code>.</p><table><thead><tr><th>Insets</th><th>Description</th></tr></thead><tbody><tr><td><code>statusBars</code></td><td>Status bars.</td></tr><tr><td><code>navigationBars</code></td><td>Navigation bars.</td></tr><tr><td><code>systemBars</code></td><td>System bars. (<code>statusBars</code> + <code>navigationBars</code>)</td></tr></tbody></table><h3 id="system-bars-status-bars-navigation-bars-etc" tabindex="-1"><a class="header-anchor" href="#system-bars-status-bars-navigation-bars-etc" aria-hidden="true">#</a> System Bars (Status Bars, Navigation Bars, etc)</h3><div class="custom-container tip"><p class="custom-container-title">Contents of This Section</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.systembar/-system-bars-controller" target="_blank" rel="noopener noreferrer">SystemBarsController<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>System bars controller.</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.proxy/-i-system-bars-controller" target="_blank" rel="noopener noreferrer">ISystemBarsController<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>System bars controller interface.</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.systembar.style/-system-bar-style" target="_blank" rel="noopener noreferrer">SystemBarStyle<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>System bar style.</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.systembar.type/-system-bars" target="_blank" rel="noopener noreferrer">SystemBars<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>System bars type.</p><p><a href="https://betterandroid.github.io/BetterAndroid/KDoc/ui-component/ui-component/com.highcapable.betterandroid.ui.component.systembar.type/-system-bar-behavior" target="_blank" rel="noopener noreferrer">SystemBarBehavior<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>System bars behavior.</p></div><p>The serious adaptation problem of Android development lies in the confusion of terminal devices without unified development specifications.</p><p>In order to provide users with a better experience, when should the status bars and navigation bars be displayed or hidden, the color and background of the status bars and navigation bars, etc.</p><p>These are all issues that developers need to consider during the development process.</p><p>So <code>BetterAndroid</code> docks and encapsulates the system bars adaptation solution provided by <code>androidx</code> and integrates it into <code>SystemBarsController</code>.</p><p>Now, you can call it very conveniently to easily implement a series of solutions for the operating system bars.</p><p><code>SystemBarsController</code> supports at least Android 5.0 and solves compatibility issues in some manufacturers&#39; customized systems.</p><p><code>AppBindingActivity</code>, <code>AppViewsActivity</code>, <code>AppComponentActivity</code>, <code>AppBindingFragment</code>, <code>AppViewsFragment</code> have implemented the <code>ISystemBarsController</code> interface by default, you can directly use <code>systemBars</code> to obtain <code>SystemBarsController</code>.</p><p>But you can still create a <code>SystemBarsController</code> manually using the <code>Activity.getWindow</code> object in <code>Activity</code>.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#F47067;">class</span><span style="color:#ADBAC7;"> </span><span style="color:#F69D50;">YourActivity</span><span style="color:#ADBAC7;"> : </span><span style="color:#F69D50;">AppCompatActivity</span><span style="color:#ADBAC7;">() {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Create a lazy object.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> systemBars </span><span style="color:#F47067;">by</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">lazy</span><span style="color:#ADBAC7;"> { SystemBarsController.</span><span style="color:#DCBDFB;">from</span><span style="color:#ADBAC7;">(window) }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">override</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">fun</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">onCreate</span><span style="color:#ADBAC7;">(savedInstanceState: </span><span style="color:#F69D50;">Bundle</span><span style="color:#ADBAC7;">?) {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">super</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">onCreate</span><span style="color:#ADBAC7;">(savedInstanceState)</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// Create your binding.</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> binding </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> ActivityMainBinding.</span><span style="color:#DCBDFB;">inflate</span><span style="color:#ADBAC7;">(layoutInflater)</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#DCBDFB;">setContentView</span><span style="color:#ADBAC7;">(binding.root)</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// Initialize systemBars using the current root view.</span></span>
<span class="line"><span style="color:#ADBAC7;">        systemBars.</span><span style="color:#DCBDFB;">init</span><span style="color:#ADBAC7;">(binding.root)</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">override</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">fun</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">onDestroy</span><span style="color:#ADBAC7;">() {</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#6CB6FF;">super</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">onDestroy</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// Destroy systemBars, which will restore the state before initialization.</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#768390;">// Optional, to prevent memory leaks.</span></span>
<span class="line"><span style="color:#ADBAC7;">        systemBars.</span><span style="color:#DCBDFB;">destroy</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#ADBAC7;">    }</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Notice</p><p>When using the <code>init</code> method, it is recommended and recommended to pass in your own root view, otherwise <code>android.R.id.content</code> will be used by default as the root view.</p><p>You <u><strong>should avoid using it as the root view</strong></u>, this is uncontrollable, you should be able to maintain your own root view at any time in <code>Activity</code>.</p><p>If you are not using <code>ViewBinding</code>, <code>AppViewsActivity</code> and <code>AppComponentActivity</code> have overridden the <code>setContentView</code> method for you by default.</p><p>It will automatically load your root view into <code>SystemBarsController</code> when you use this method.</p><p>You can also manually override the <code>setContentView</code> method to achieve this functionality.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#F47067;">override</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">fun</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">setContentView</span><span style="color:#ADBAC7;">(layoutResID: </span><span style="color:#F69D50;">Int</span><span style="color:#ADBAC7;">) {</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#6CB6FF;">super</span><span style="color:#ADBAC7;">.</span><span style="color:#DCBDFB;">setContentView</span><span style="color:#ADBAC7;">(layoutResID)</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// The first child view is your root view.</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> rootView </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">findViewById</span><span style="color:#ADBAC7;">&lt;</span><span style="color:#F69D50;">ViewGroup</span><span style="color:#ADBAC7;">&gt;(android.R.id.content).</span><span style="color:#DCBDFB;">getChildAt</span><span style="color:#ADBAC7;">(</span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Initialize systemBars using the current root view.</span></span>
<span class="line"><span style="color:#ADBAC7;">    systemBars.</span><span style="color:#DCBDFB;">init</span><span style="color:#ADBAC7;">(rootView)</span></span>
<span class="line"><span style="color:#ADBAC7;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>The following is a detailed usage introduction of <code>SystemBarsController</code>.</p><p>Initialize <code>SystemBarsController</code> and handle window insets <code>padding</code> of root view.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Assume this is your current root view.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> rootView: </span><span style="color:#F69D50;">ViewGroup</span></span>
<span class="line"><span style="color:#768390;">// Initialize SystemBarsController.</span></span>
<span class="line"><span style="color:#768390;">// Your root view must have been set to a parent layout, otherwise an exception will be thrown.</span></span>
<span class="line"><span style="color:#ADBAC7;">systemBars.</span><span style="color:#DCBDFB;">init</span><span style="color:#ADBAC7;">(rootView)</span></span>
<span class="line"><span style="color:#768390;">// You can customize the window insets that handle the root view.</span></span>
<span class="line"><span style="color:#ADBAC7;">systemBars.</span><span style="color:#DCBDFB;">init</span><span style="color:#ADBAC7;">(rootView, edgeToEdgeInsets </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> { systemBars })</span></span>
<span class="line"><span style="color:#768390;">// If you don&#39;t want SystemBarsController to automatically handle the root view&#39;s window insets for you,</span></span>
<span class="line"><span style="color:#768390;">// you can directly set edgeToEdgeInsets to null.</span></span>
<span class="line"><span style="color:#ADBAC7;">systemBars.</span><span style="color:#DCBDFB;">init</span><span style="color:#ADBAC7;">(rootView, edgeToEdgeInsets </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">null</span><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Notice</p><p><code>SystemBarsController</code> will automatically set <code>Window.setDecorFitsSystemWindows(false)</code> during initialization (on cutout display devices, <code>layoutInDisplayCutoutMode</code> will also be set to <code>LAYOUT_IN_DISPLAY_CUTOUT_MODE_SHORT_EDGES</code>), you just need to set <code>edgeToEdgeInsets</code> in <code>init</code> (the default setting), then your root view will have a window insets <code>padding</code> controlled by <code>safeDrawingIgnoringIme</code>, which is why you should be able to maintain your own root view at any time in <code>Activity</code>.</p><p>If you set <code>edgeToEdgeInsets</code> to <code>null</code> in <code>init</code>, your root view will fully expand to full screen.</p><p>The above effect is equivalent to <code>enableEdgeToEdge</code> provided in <code>androidx.activity:activity</code>.</p><p>Without any action, your layout will be blocked by system bars or dangerous areas of the system (such as cutout displays), which will affect the user experience.</p><p>If you want to maintain and manage the <code>padding</code> of the current root view yourself, you must ensure that your interface elements can correctly adapt to the spacing provided by window insets.</p><p>You can go to the <a href="#insets">Insets</a> section of the previous section learn more about window insets.</p><p>You no longer need to use <code>enableEdgeToEdge</code>, <code>SystemBarsController</code> will hold this effect by default after initialization, you should use <code>edgeToEdgeInsets</code> to control the window insets <code>padding</code> of the root view.</p></div><div class="custom-container tip"><p class="custom-container-title">Tips</p><p>In Jetpack Compose, you can use <code>AppComponentActivity</code> to get a <code>SystemBarsController</code> initialized with <code>edgeToEdgeInsets = null</code>, then use Jetpack Compose to set window insets.</p><p><code>BetterAndroid</code> also provides extension support for it, for more functions, you can refer to <a href="/BetterAndroid/en/library/compose-multiplatform.html" class="">compose-multiplatform</a>.</p></div><p>Set the behavior of system bars.</p><p>This determines the system-controlled behavior when showing or hiding system bars.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#ADBAC7;">systemBars.behavior </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> SystemBarBehavior.SHOW_TRANSIENT_BARS_BY_SWIPE</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The following are all behaviors provided in <code>SystemBarBehavior</code>, those marked with <code>*</code> are the default behaviors.</p><table><thead><tr><th>Behavior</th><th>Description</th></tr></thead><tbody><tr><td><code>DEFAULT</code></td><td>Default behavior controlled by the system.</td></tr><tr><td>*<code>SHOW_TRANSIENT_BARS_BY_SWIPE</code></td><td>A system bar that can be popped up by gesture sliding in full screen and displayed as a translucent system bar, and continues to hide after a period of time.</td></tr></tbody></table><p>Show, hide system bars.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Enter immersive mode (full screen mode).</span></span>
<span class="line"><span style="color:#768390;">// Hide status bars and navigation bars at the same time.</span></span>
<span class="line"><span style="color:#ADBAC7;">systemBars.</span><span style="color:#DCBDFB;">hide</span><span style="color:#ADBAC7;">(SystemBars.ALL)</span></span>
<span class="line"><span style="color:#768390;">// Separately control the status bars and navigation bars.</span></span>
<span class="line"><span style="color:#ADBAC7;">systemBars.</span><span style="color:#DCBDFB;">hide</span><span style="color:#ADBAC7;">(SystemBars.STATUS_BARS)</span></span>
<span class="line"><span style="color:#ADBAC7;">systemBars.</span><span style="color:#DCBDFB;">hide</span><span style="color:#ADBAC7;">(SystemBars.NAVIGATION_BARS)</span></span>
<span class="line"><span style="color:#768390;">// Exit immersive mode (full screen mode).</span></span>
<span class="line"><span style="color:#768390;">// Show status bars and navigation bars at the same time.</span></span>
<span class="line"><span style="color:#ADBAC7;">systemBars.</span><span style="color:#DCBDFB;">show</span><span style="color:#ADBAC7;">(SystemBars.ALL)</span></span>
<span class="line"><span style="color:#768390;">// Separately control the status bars and navigation bars.</span></span>
<span class="line"><span style="color:#ADBAC7;">systemBars.</span><span style="color:#DCBDFB;">show</span><span style="color:#ADBAC7;">(SystemBars.STATUS_BARS)</span></span>
<span class="line"><span style="color:#ADBAC7;">systemBars.</span><span style="color:#DCBDFB;">show</span><span style="color:#ADBAC7;">(SystemBars.NAVIGATION_BARS)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">Tips</p><p>If you need to control the showing and hiding of the input method (IME), you can refer to <a href="/BetterAndroid/en/library/ui-extension.html#view-extension" class="">ui-extension → View Extension</a>.</p></div><p>Set the style of the system bars.</p><p>You can customize the appearance of the status bars and navigation bars.</p><div class="custom-container warning"><p class="custom-container-title">Notice</p><p>In systems below Android 6.0, the content of the status bars does not support inversion, if you set a bright color, it will be automatically processed as a semi-transparent mask.</p><p>However, for MIUI and Flyme systems that have added the inverse color function themselves, they will use their own private solutions to achieve the inverse color effect.</p><p>In systems below Android 8, the content of the navigation bars does not support inversion, and the processing method is the same as above.</p></div><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Set the style of the status bars.</span></span>
<span class="line"><span style="color:#768390;">// Note: Please make sure to import com.highcapable.betterandroid.ui.component.systembar.style</span></span>
<span class="line"><span style="color:#768390;">//       SystemBarStyle under the package name, not androidx.activity.SystemBarStyle.</span></span>
<span class="line"><span style="color:#ADBAC7;">systemBars.statusBarStyle </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">SystemBarStyle</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Set background color.</span></span>
<span class="line"><span style="color:#ADBAC7;">    color </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> Color.WHITE,</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Set content color.</span></span>
<span class="line"><span style="color:#ADBAC7;">    darkContent </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span></span>
<span class="line"><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// Set the style of the navigation bars.</span></span>
<span class="line"><span style="color:#ADBAC7;">systemBars.navigationBarStyle </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">SystemBarStyle</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Set background color.</span></span>
<span class="line"><span style="color:#ADBAC7;">    color </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> Color.WHITE,</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">// Set content color.</span></span>
<span class="line"><span style="color:#ADBAC7;">    darkContent </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span></span>
<span class="line"><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// You can set the style of the status bars and navigation bars at once.</span></span>
<span class="line"><span style="color:#ADBAC7;">systemBars.</span><span style="color:#DCBDFB;">setStyle</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">    statusBar </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">SystemBarStyle</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">        color </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> Color.WHITE,</span></span>
<span class="line"><span style="color:#ADBAC7;">        darkContent </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span></span>
<span class="line"><span style="color:#ADBAC7;">    ),</span></span>
<span class="line"><span style="color:#ADBAC7;">    navigationBar </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">SystemBarStyle</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">        color </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> Color.WHITE,</span></span>
<span class="line"><span style="color:#ADBAC7;">        darkContent </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span></span>
<span class="line"><span style="color:#ADBAC7;">    )</span></span>
<span class="line"><span style="color:#ADBAC7;">)</span></span>
<span class="line"><span style="color:#768390;">// You can also set the style of the status bars and navigation bars at the same time.</span></span>
<span class="line"><span style="color:#ADBAC7;">systemBars.</span><span style="color:#DCBDFB;">setStyle</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">    style </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">SystemBarStyle</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">        color </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> Color.WHITE,</span></span>
<span class="line"><span style="color:#ADBAC7;">        darkContent </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">true</span></span>
<span class="line"><span style="color:#ADBAC7;">    )</span></span>
<span class="line"><span style="color:#ADBAC7;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The following are the preset styles provided in <code>SystemBarStyle</code>, the ones marked with <code>*</code> are the default styles.</p><table><thead><tr><th>Style</th><th>Description</th></tr></thead><tbody><tr><td><code>Auto</code></td><td>The system dark mode is a pure black background + light content color, and the light mode is a pure white background + dark content color.</td></tr><tr><td>*<code>AutoTransparent</code></td><td>The light content color is used in the system dark mode, and the dark content color is used in the light mode, with a transparent background.</td></tr><tr><td><code>Light</code></td><td>Pure white background + dark content color.</td></tr><tr><td><code>LightScrim</code></td><td>Translucent pure white background + dark content color.</td></tr><tr><td><code>LightTransparent</code></td><td>Transparent background + dark content color.</td></tr><tr><td><code>Dark</code></td><td>Pure black background + light content color.</td></tr><tr><td><code>DarkScrim</code></td><td>Translucent solid black background + light content color.</td></tr><tr><td><code>DarkTransparent</code></td><td>Transparent background + light content color.</td></tr></tbody></table><div class="custom-container tip"><p class="custom-container-title">Tips</p><p>When the app is first cold-launched, the color of the system bars will be determined by the attributes you set in <code>styles.xml</code>.</p><p>In order to provide a better user experience during cold launch, you can refer to the following examples.</p><blockquote><p>The following example</p></blockquote><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#ADBAC7;">&lt;</span><span style="color:#8DDB8C;">style</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">name</span><span style="color:#ADBAC7;">=</span><span style="color:#96D0FF;">&quot;Theme.MyApp.Demo&quot;</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">parent</span><span style="color:#ADBAC7;">=</span><span style="color:#96D0FF;">&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;</span><span style="color:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">&lt;!-- Set the status bar color. --&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">    &lt;</span><span style="color:#8DDB8C;">item</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">name</span><span style="color:#ADBAC7;">=</span><span style="color:#96D0FF;">&quot;android:statusBarColor&quot;</span><span style="color:#ADBAC7;">&gt;@color/colorPrimary&lt;/</span><span style="color:#8DDB8C;">item</span><span style="color:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">&lt;!-- Set the navigation bar color. --&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">    &lt;</span><span style="color:#8DDB8C;">item</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">name</span><span style="color:#ADBAC7;">=</span><span style="color:#96D0FF;">&quot;android:navigationBarColor&quot;</span><span style="color:#ADBAC7;">&gt;@color/colorPrimary&lt;/</span><span style="color:#8DDB8C;">item</span><span style="color:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">&lt;!-- Set the status bar content color. --&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">    &lt;</span><span style="color:#8DDB8C;">item</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">name</span><span style="color:#ADBAC7;">=</span><span style="color:#96D0FF;">&quot;android:windowLightStatusBar&quot;</span><span style="color:#ADBAC7;">&gt;true&lt;/</span><span style="color:#8DDB8C;">item</span><span style="color:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">    </span><span style="color:#768390;">&lt;!-- Set the navigation bar content color. --&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">    &lt;</span><span style="color:#8DDB8C;">item</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">name</span><span style="color:#ADBAC7;">=</span><span style="color:#96D0FF;">&quot;android:windowLightNavigationBar&quot;</span><span style="color:#ADBAC7;">&gt;true&lt;/</span><span style="color:#8DDB8C;">item</span><span style="color:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">&lt;/</span><span style="color:#8DDB8C;">style</span><span style="color:#ADBAC7;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>Destroy <code>SystemBarsController</code>.</p><p>This will restore the state before initialization, including the status bars, navigation bars color, etc.</p><blockquote><p>The following example</p></blockquote><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#768390;">// Destroy SystemBarsController, which will restore the state before initialization.</span></span>
<span class="line"><span style="color:#ADBAC7;">systemBars.</span><span style="color:#DCBDFB;">destroy</span><span style="color:#ADBAC7;">()</span></span>
<span class="line"><span style="color:#768390;">// You can use isDestroyed at any time to determine whether</span></span>
<span class="line"><span style="color:#768390;">// the current SystemBarsController has been destroyed.</span></span>
<span class="line"><span style="color:#F47067;">val</span><span style="color:#ADBAC7;"> isDestroyed </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> systemBars.isDestroyed</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Notice</p><p>After using <code>SystemBarsController</code>, the <code>WindowInsetsController</code> of the current root view <code>rootView</code> has been automatically taken over by it.</p><p>Please do not manually set parameters such as <code>isAppearanceLightStatusBars</code> and <code>isAppearanceLightNavigationBars</code> in <code>WindowInsetsController</code>, this may cause the actual effects of <code>statusBarStyle</code>, <code>navigationBarStyle</code>, <code>setStyle</code> and other functions to display abnormally.</p></div></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/BetterAndroid/BetterAndroid/edit/main/docs-source/src/en/library/ui-component.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page on GitHub"><!--[--><!--]--> Edit this page on GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: qzmmcn@163.com">fankesyooni</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><!----><span class="next"><a href="/BetterAndroid/en/library/ui-extension.html" class="" aria-label="ui-extension"><!--[--><!--]--> ui-extension <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/BetterAndroid/assets/app-ltPCiGOj.js" defer></script>
  </body>
</html>
